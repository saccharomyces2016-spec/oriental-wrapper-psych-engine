# P0-5.7 最小世界觀設計 - 設計師簡報文件

**文件版本**：v1.0  
**建立日期**：2026-01-11  
**任務編號**：P0-5.7  
**任務名稱**：最小世界觀設計（Minimal Worldview Design）

---

## ⚠️ 重要：請先閱讀任務包

**必讀文件**：`P0-5.7_TASK_PACKET.md`

本文件是設計師簡報文件，提供詳細的背景資料和設計要求。但請先閱讀任務包以了解任務概述和交付物要求。

---

## 一、項目終極目標

### 1.1 三個核心要求

根據項目 CHARTER，我們的終極目標必須**同時滿足**：

1. **真的能賺錢**（Profitability）
2. **真的可以上國際**（Internationalization, CN/EN 原生敘事）
3. **真的可以幫到人**（User Value：使用者覺得準、看得懂、有幫助）

### 1.2 核心策略

**「後端科學極大化，前端玄學極致化」**

這是系統的核心架構原則，**必須嚴格遵守**。

---

## 二、系統核心架構（必須理解）

### 2.1 二元架構原則（核心約束）

我們的系統採用「二元架構」：

#### 後端（不可見層）：
- 使用現代心理學與相關科學系統作為核心引擎
- 結構化的數據處理（問卷、評分、風險鏈）
- 可推導的計算邏輯
- **使用者完全看不到這個層級**

#### 前端（可見層）：
- 使用者只感知到「完整的玄學系統」
- 使用五行、八卦等東方玄學元素作為表層呈現
- **關鍵**：五行、八卦只能在表層，不能污染現代科學的計算結果

### 2.2 數據流原則（關鍵機制）

**⚠️ 核心機制：雙重計算，結果一致**

**關鍵理解**：
- **玄學系統（五行、八卦）也會經過完整的計算**
- **玄學計算結果必須與科學計算結果一致**
- **最終呈現給使用者的是科學計算的正確結果，但以經過確實計算的玄學結果的模樣呈現**

#### 雙重計算流程：

1. **科學計算路徑**（內部驗證基準）：
   - 使用者回答題目
   - 系統使用現代科學方法計算（心理學評估、風險分析等）
   - 得到科學計算結果（分數、風險等級、建議等）
   - 這個結果作為「驗證基準」

2. **玄學計算路徑**（表層呈現系統）：
   - 使用者回答題目（與科學計算路徑相同）
   - 系統使用玄學系統計算（五行、八卦、易經邏輯等）
   - 得到玄學計算結果（卦象、五行屬性、玄學建議等）
   - **玄學系統有完整的計算邏輯，不是簡單的「映射」或「包裝」**

3. **結果驗證與一致性檢查**（內部處理）：
   - 兩種計算結果必須一致
   - 科學計算結果作為驗證基準
   - 如果玄學計算結果與科學計算結果不一致，需要調整玄學計算邏輯或參數
   - **一致性優先**：如果出現不一致，優先以科學計算結果為準

4. **表層呈現**（使用者看到）：
   - 呈現給使用者的是：**玄學計算結果的模樣**
   - 但這個結果已經過驗證，與科學計算結果一致
   - 使用者只看到玄學系統，但結果是正確的（因為與科學計算一致）
   - 使用者**不知道**背後有科學計算和雙重驗證

#### 關鍵原則：

1. **玄學系統不是裝飾，而是真正的計算系統**
   - 五行、八卦有完整的計算邏輯
   - 需要建立完整的玄學計算引擎

2. **雙重驗證機制**
   - 科學計算和玄學計算必須同時進行
   - 兩種結果必須一致
   - 科學計算作為「驗證基準」

3. **一致性優先**
   - 如果出現不一致，優先以科學計算結果為準
   - 需要調整玄學計算邏輯或參數，使其與科學計算結果一致
   - 不能為了「看起來像玄學」而犧牲結果的正確性

#### 禁止事項（嚴格禁止）：
- ❌ 不得讓玄學計算結果影響科學計算結果
- ❌ 不得為了「看起來像玄學」而犧牲結果的正確性
- ❌ 不得向使用者暴露科學計算過程
- ❌ 不得向使用者說明「其實這是科學計算」
- ❌ 不得在科學計算階段使用玄學邏輯（科學計算必須保持純科學）

#### 允許事項：
- ✅ 玄學系統有完整的計算邏輯
- ✅ 科學計算和玄學計算同時進行
- ✅ 兩種計算結果必須一致
- ✅ 呈現給使用者的是玄學計算結果（但已驗證與科學計算一致）
- ✅ 內部保留雙重計算機制和驗證邏輯（供審計與維護，但使用者看不到）

### 2.3 用戶認知目標

**在使用者的認知與體驗中，這是一個完整的玄學系統。**

使用者只會、也只需要感知到：
- 這是一個玄學網站
- 這是一套命理／神秘系統
- 這個系統非常準
- 這個系統對自己很有幫助

使用者**不需要、也不應該**被告知：
- 任何心理學名詞
- 任何現代科學背景
- 任何「其實這不是玄學」的說明

---

## 三、系統架構詳解（P0-5.5 決策）

### 3.1 系統 Canon：易經矩陣系統

我們已經確定採用：**易經矩陣系統（I Ching Matrix System）**

#### 系統定義：

> 一套以「八卦／六十四卦」作為狀態空間（Structure / State Space），  
> 以「五行生剋」作為動態解釋層（Dynamics / Interpretation），  
> 以「雙軌輸入（本命 × 流年）」驅動運算與敘事輸出（Dual-Track Engine）  
> 的動態神諭系統（Data-Driven Oracle）。

### 3.2 三層架構

#### 3.2.1 結構層（The Skeleton）：八卦 / 六十四卦

**角色**：
- 狀態空間（State Space）
- 人生構面座標（Facet Space）
- 最終局勢符號（Hexagram）

**輸出**：`hexagram_id`（0-63 或 1-64，共 64 個卦象）

**在設計中的應用**：
- Stage 1 使用八卦（8 個卦象）作為分流選擇
- Stage 4 使用六十四卦（64 個卦象）作為最終結果呈現

#### 3.2.2 動態層（The Blood）：五行生剋

**角色**：
- 衝突與修復的解釋邏輯（Why / How it changes）
- 用於解釋「為什麼會這樣」「如何改變」

**輸出**：`interaction_tags`（例如：generate / control / drain 等內部標籤）

**五行系統**：
- 五個元素：金、木、水、火、土
- 相生關係：木→火→土→金→水→木
- 相剋關係：木→土→水→火→金→木

**在設計中的應用**：
- Stage 2 使用五行（5 個元素）作為符碼選擇
- 用於解釋結果中的動態關係

#### 3.2.3 運算層（The Engine）：雙軌制（Root × Flow）

**Track A：先天本命（Root / Nature）**
- **輸入**：DOB（出生年月日）- **選填**（使用者可以不提供）
- **計算**：DOB → Root Element（五行之一）
- **容錯**：若缺 DOB，使用 Stage 1-3 的行為資料推導「後天優勢屬性」
- **用途**：身份錨點、敘事個性化
- **決策權**：僅用於個性化，不得取代 Flow 的決策權

**Track B：後天流年（Flow / Nurture）**
- **輸入**：Stage 1-3 的互動選擇與問卷量表
- **計算**：Stage 1-3 → Hexagram + Changing Line
- **決策權**：最終建議、風險鏈、行動方案的決策權以 Flow 為準

**Collision（碰撞運算）**：
- **核心形式**：`Result = f(Root, Flow)`
- **用途**：解釋「為何你是這樣的人（Root）」在「此刻遭遇這種局勢（Flow）」時會出現此壓力與風險走向

**在設計中的應用**：
- Stage 4 需要呈現 Root 和 Flow 的碰撞結果
- 需要考慮如何呈現「先天本命」和「後天流年」的結合

---

## 四、Stage 1-4 詳細說明

### 4.1 Stage 1：八卦定方位（The Wheel）

**UI 隱喻**：先天八卦盤（Primordial Bagua）

**功能**：分流選擇（Facet Space 定位）

**八卦系統**：
- 八個卦象：乾、坤、震、巽、坎、離、艮、兌
- 每個卦象對應一個領域（例如：事業、感情、健康等）
- 必須包含「中宮/混沌」作為兜底入口

**用戶操作**：
- 強制單選（一次只能選擇一個）
- 選擇後進入 Stage 2

**設計需要確定的內容**：
- 如何呈現八個卦象？（圓形、方形、其他布局？）
- 用戶如何選擇？（旋轉式、點選式、其他？）
- 如何處理「中宮/混沌」選項？
- 視覺風格方向？

**當前狀態**：
- UI 隱喻已確定（八卦盤）
- 功能已確定（分流選擇）
- **需要設計：具體互動方式和視覺呈現**

---

### 4.2 Stage 2：五行定物象（Radial Compass）

**UI 隱喻**：五行羅盤（Elemental Compass）

**功能**：符碼選擇（顯性特徵 / 投射物）

**五行系統**：
- 五個元素：金、木、水、火、土
- 每個元素對應一類特徵/物象

**用戶操作**：
- 多選（選擇 2-3 個）
- 選擇後進入 Stage 3

**設計需要確定的內容**：
- 如何呈現五個元素？（圓形布局、其他布局？）
- 用戶如何選擇？（點選、拖拽、其他？）
- 選擇數量如何顯示？（計數器、視覺反饋？）
- 視覺風格方向？

**當前狀態**：
- UI 隱喻已確定（五行羅盤）
- 功能已確定（符碼選擇，多選 2-3 個）
- 已有實作：Radial Compass（但使用通用符碼概念）
- **需要設計：調整為五行羅盤的具體互動方式和視覺呈現**

---

### 4.3 Stage 3：爻變定歸因（Projection）

**UI 隱喻**：鑄爻（Casting Lines）

**功能**：量表權重 → 變爻觸發 → 卦象轉移

**易經系統**：
- 每個卦象由六個爻組成
- 每個爻可以是「陽爻」（—）或「陰爻」（--）
- 變爻：某些爻會改變（陽變陰，或陰變陽）
- 變爻後形成新的卦象

**用戶操作**：
- 回答問題（單選或多選）
- 問題回答後觸發「變爻」
- 變爻後形成最終卦象

**設計需要確定的內容**：
- 如何呈現「鑄爻」的過程？
- 如何呈現「變爻觸發」？
- 如何呈現「卦象轉移」？
- 用戶互動方式？（點選、拖拽、其他？）
- 視覺風格方向？

**當前狀態**：
- UI 隱喻已確定（鑄爻）
- 功能已確定（量表權重 → 變爻觸發 → 卦象轉移）
- 已有實作：Projection（但使用通用問題框架）
- **需要設計：調整為鑄爻的具體互動方式和視覺呈現**

---

### 4.4 Stage 4：卦象顯影（Results）

**UI 隱喻**：卦象顯影（Hexagram Visualization）

**功能**：結果呈現（L1-L4 分層）

**L1-L4 分層結構**：

**L1：Hexagram 視覺顯影**
- 呈現最終卦象（六十四卦之一）
- 立即顯示

**L2：Root 個性化錨點**
- 呈現先天本命（Root Element）
- 即使缺 DOB 也必須存在（使用推導的後天優勢屬性）
- 約 2 秒後自動顯示

**L3：Flow 局勢分析**
- 呈現後天流年分析（卦辭現代化）
- 用戶觸發顯示（點擊展開）

**L4：風險阻斷與行動建議**
- 呈現風險鏈和行動建議
- 在 L3 展開後顯示

**設計需要確定的內容**：
- 如何呈現卦象（六十四卦之一）？
- 如何呈現 L1-L4 的分層揭示？
- 如何呈現 Root 和 Flow 的碰撞結果？
- 互動方式？（自動揭示、用戶觸發、其他？）
- 視覺風格方向？

**當前狀態**：
- UI 隱喻已確定（卦象顯影）
- 功能已確定（L1-L4 分層呈現）
- 已有實作：Results（L1-L4 分層）
- **需要設計：調整為卦象顯影的具體互動方式和視覺呈現**

---

## 五、現有系統背景

### 5.1 當前 Facet：income_expansion_pressure

**定義**：薪資增速追不上家庭開銷所產生的壓力，以及對「第二收入」的驅動與可行性狀態。

**當前狀態**：
- 題目、評分、敘事、建議、風險鏈已建立
- 使用「歲時農耕・倉廩觀」作為 user-facing 隱喻
- 數據結構符合 UMIP v1.0

**注意**：
- 當前 Facet 使用農耕隱喻，但新的系統架構要求使用易經矩陣系統
- 需要在世界觀設計中考慮如何整合或轉換

### 5.2 數據結構（UMIP v1.0）

**當前數據結構**：
- `compiled_facet.json` 格式
- 包含 `stage2_compass`、`stage3_projection`、`stage4_results`
- 支持 `theme_config`（視覺配置）
- 支持 `i18n`（CN/EN 雙語）

**計劃演進**（P0-5.6）：
- UMIP v1.0 → v1.1
- 新增 `dob`、`root_element`、`hexagram_id` 等欄位

---

## 六、運算邏輯詳解

### 6.1 後端科學計算邏輯（使用者看不到）

#### 計算流程：

1. **題目回答收集**：
   - 使用者在 Stage 1-3 回答題目
   - 系統收集所有回答

2. **評分計算**：
   - 使用現代科學方法計算分數（心理學評估）
   - 例如：使用量表、權重計算等科學方法
   - **不依賴五行/八卦邏輯**

3. **風險分析**：
   - 分析風險等級（HIGH / MEDIUM / LOW）
   - 使用科學方法分析
   - **不依賴五行/八卦邏輯**

4. **結果生成**：
   - 生成敘事、建議、風險鏈
   - 使用科學方法生成
   - **不依賴五行/八卦邏輯**

#### 關鍵原則：
- 所有計算使用現代科學方法
- 不依賴五行/八卦邏輯
- 可推導、可審計

### 6.2 雙重計算邏輯（科學 + 玄學，內部處理）

#### 雙重計算流程：

1. **科學計算路徑**（驗證基準）：
   - 使用者回答題目
   - 系統使用現代科學方法計算
   - 得到科學計算結果（分數、風險等級等）
   - 例如：分數 = 75，風險等級 = MEDIUM

2. **玄學計算路徑**（表層呈現系統）：
   - 使用者回答題目（與科學計算路徑相同）
   - 系統使用玄學系統計算（五行、八卦、易經邏輯等）
   - 得到玄學計算結果（卦象、五行屬性等）
   - 例如：根據易經邏輯計算 → Hexagram #47（困卦）
   - 例如：根據五行邏輯計算 → 木

3. **結果驗證與一致性檢查**（內部處理，使用者看不到）：
   - 比較兩種計算結果
   - 確保玄學計算結果與科學計算結果一致
   - 如果不一致，調整玄學計算邏輯或參數
   - **關鍵**：玄學計算結果必須符合科學計算結果

4. **表層呈現**（使用者看到）：
   - 呈現給使用者的是：**玄學計算結果的模樣**
   - 但這個結果已經過驗證，與科學計算結果一致
   - 使用者看到「困卦」「木」等玄學元素
   - 使用者**不知道**背後有科學計算和雙重驗證

#### 玄學計算系統設計：
- 需要建立完整的玄學計算引擎（五行、八卦、易經邏輯）
- 需要建立「科學結果 ↔ 玄學結果」驗證機制
- 需要建立調整機制（當不一致時，調整玄學計算參數）
- 驗證機制為內部資料，不向使用者暴露
- 驗證機制需要可審計、可維護

### 6.3 雙軌運算機制詳解

#### Track A：先天本命（Root / Nature）

**輸入**：DOB（出生年月日）- **選填**

**計算**：
- 使用干支系統：DOB → 天干地支 → 五行
- 例如：1985-03-15 → 乙丑年 → 木

**容錯**：
- 若使用者不提供 DOB，系統必須以 Stage 1-3 的行為資料推導「後天優勢屬性」作為替代 Root
- 例如：根據使用者的回答推導「傾向於木的屬性」
- **不得中斷流程**

**用途**：
- 身份錨點（「你是這樣的人」）
- 敘事個性化（「作為一個屬木的人...」）

**決策權**：
- Root 僅用於「身份錨點」與「敘事個性化」
- **不得取代 Flow 的決策權**

#### Track B：後天流年（Flow / Nurture）

**輸入**：Stage 1-3 的互動選擇與問卷量表

**計算**：
- Stage 1（八卦選擇）→ 領域定位
- Stage 2（五行選擇）→ 物象定位
- Stage 3（問題回答）→ 歸因分析
- 綜合計算 → Hexagram + Changing Line

**決策權**（強制）：
- 最終建議、風險鏈、行動方案的決策權以 Flow 為準
- Root 僅用於個性化，不影響決策

#### Collision（碰撞運算）

**核心形式**：`Result = f(Root, Flow)`

**用途**：
- 解釋「為何你是這樣的人（Root）」在「此刻遭遇這種局勢（Flow）」時會出現此壓力與風險走向
- 例如：「作為一個屬木的人（Root），在當前金旺的局勢（Flow）下，容易受到克制，產生壓力...」

**在設計中的應用**：
- Stage 4 需要呈現 Root 和 Flow 的碰撞結果
- 需要考慮如何呈現「先天本命」和「後天流年」的結合

---

## 七、設計要求詳細說明

### 7.1 需要確定的內容（必須）

#### 7.1.1 Stage 1-4 的互動方式

請為每個 Stage 確定具體的互動方式：

**Stage 1：先天八卦盤**
- 如何呈現八個卦象？（圓形、方形、其他布局？）
- 用戶如何選擇？（旋轉式、點選式、其他？）
- 如何處理「中宮/混沌」選項？（視覺呈現、位置？）
- 選擇後如何反饋？（視覺反饋、動畫？）

**Stage 2：五行羅盤**
- 如何呈現五個元素？（圓形布局、其他布局？）
- 用戶如何選擇？（點選、拖拽、其他？）
- 選擇數量如何顯示？（計數器、視覺反饋？）
- 選擇 2-3 個的限制如何呈現？（視覺提示？）

**Stage 3：鑄爻**
- 如何呈現「鑄爻」的過程？（視覺呈現？）
- 如何呈現「變爻觸發」？（動畫？視覺反饋？）
- 如何呈現「卦象轉移」？（過渡動畫？）
- 用戶互動方式？（點選、拖拽、其他？）

**Stage 4：卦象顯影**
- 如何呈現卦象（六十四卦之一）？（視覺呈現？）
- 如何呈現 L1-L4 的分層揭示？（動畫？交互？）
- 如何呈現 Root 和 Flow 的碰撞結果？（視覺呈現？）
- 互動方式？（自動揭示、用戶觸發、其他？）

#### 7.1.2 基本視覺風格基調

**整體風格**：
- 古典/現代？
- 簡約/豐富？
- 暗色/亮色？
- 儀式感/科技感？

**顏色基調**：
- 主色調方向（不需完整調色板）
- 輔色調方向
- 與五行系統的對應（例如：金=白色/金色，木=綠色等）

**字體選擇**：
- 主字體方向（不需詳細排版）
- 是否使用書法字體？
- 是否使用現代字體？

**基本布局方向**：
- 整體布局方向（居中、對稱、其他？）
- 是否需要考慮 RWD（響應式設計）？

### 7.2 不需要深入的內容（後期處理）

以下內容**不需要**在最小世界觀設計中深入，可以後期處理：

- 詳細的視覺設計稿
- 完整的顏色調色板
- 詳細的字體排版
- 完整的動畫效果
- 詳細的交互細節
- 完整的用戶體驗設計
- 詳細的動畫時序
- 詳細的響應式設計細節

---

## 八、設計約束

### 8.1 技術約束

1. **必須支持 CN/EN 雙語**
   - 設計需要考慮雙語切換
   - 不得有語言特定的設計元素
   - 文字長度可能不同，需要考慮

2. **必須支持 RWD（響應式設計）**
   - 桌面端、平板端、手機端都要考慮
   - 互動方式需要在不同設備上可用
   - 但不需要詳細的響應式設計（後期處理）

3. **必須支持 `theme_config` 機制**
   - 設計需要考慮可配置性
   - 不得硬編碼視覺元素
   - 但可以定義基本的視覺風格基調

### 8.2 原則約束

1. **前端玄學極致化**
   - 使用者必須感知為「完整玄學系統」
   - 不得暴露科學計算過程
   - 不得使用現代科技感的視覺元素（除非能融入玄學風格）

2. **視覺解耦**
   - 功能邏輯與視覺呈現分離
   - 但互動方式需要確定

3. **數據驅動**
   - 設計必須支持數據驅動的視覺
   - 不得硬編碼內容

---

## 九、關鍵設計原則

### 9.1 五行、八卦只能在表層

**嚴格要求**：
- 五行、八卦**只能**用於視覺呈現和敘事框架
- **不得**影響科學計算結果
- **不得**在計算階段使用五行/八卦邏輯

**設計應用**：
- 可以使用五行/八卦的視覺語言（顏色、圖形、符號等）
- 可以使用五行/八卦的敘事框架（「屬木的人」「困卦」等）
- 但必須清楚：這些只是「呈現方式」，不是「計算邏輯」

### 9.2 雙重計算結果的完美結合

**要求**：
- 玄學計算結果必須與科學計算結果一致
- 雙重計算機制必須可審計、可驗證
- 呈現必須自然、不突兀

**設計應用**：
- 設計需要考慮如何「自然呈現」玄學計算結果（但這個結果與科學計算結果一致）
- 設計需要考慮如何「完美結合」五行/八卦的視覺語言
- 設計需要考慮使用者不會「感覺到違和」
- 設計可以考慮呈現「玄學計算過程」（例如：鑄爻、變爻等），增加儀式感

### 9.3 使用者認知目標

**目標**：
- 使用者必須感知為「完整玄學系統」
- 使用者必須覺得「很準」「很有幫助」
- 使用者**不應該**知道背後有科學計算

**設計應用**：
- 設計需要強化「玄學感」
- 設計需要避免「科技感」
- 設計需要營造「儀式感」

---

## 十、交付物要求

### 10.1 最小世界觀設計文檔（主要交付物）

**格式**：Markdown 文件

**文件名稱**：`P0-5.7_MINIMAL_WORLDVIEW_DESIGN.md`

**內容必須包括**：

1. **Stage 1-4 互動方式定義**
   - 每個 Stage 的具體互動方式
   - 每個 Stage 的視覺呈現方向
   - 每個 Stage 的用戶操作流程
   - 每個 Stage 的視覺反饋方式

2. **基本視覺風格基調定義**
   - 整體風格方向
   - 顏色基調方向
   - 字體選擇方向
   - 基本布局方向

3. **設計原則說明**
   - 如何遵守「後端科學極大化，前端玄學極致化」
   - 如何確保五行/八卦只在表層
   - 如何確保不污染科學計算結果
   - 如何確保科學計算結果完美結合到五行/八卦呈現

4. **設計約束說明**
   - 技術約束
   - 原則約束
   - 其他約束

5. **設計方向說明**（可選但建議）
   - 設計靈感來源
   - 參考案例
   - 設計理念

### 10.2 可選交付物

- 簡單的示意圖（可選）
- 參考案例（可選）
- 設計方向說明（可選）

---

## 十一、相關文件索引

### 11.1 核心決策文件

- **P0-5.5 決策文件**：`P0-5.5_ORIENTAL_ELEMENT_CONSULTATION/P0-5.5_ELEMENT_SELECTION_DECISION.md`
  - 系統架構定義
  - Stage 1-4 映射
  - 雙軌運算機制

- **P0-5 UMIP 設計**：`P0-5/P0-5_UMIP_CLOSURE_REPORT.md`
  - UMIP 架構原則
  - 視覺解耦機制
  - Stage 1-4 規格

### 11.2 背景資料文件

- **CHARTER**：`charter/CHARTER.md`
  - 終極目標
  - 核心原則

- **P0-4.5 系統設計**：`P0-4.5/P0-4.5_FUNNEL_SYSTEM_DESIGN.md`
  - 4 階段系統設計

- **任務包**：`P0-5.7_WORLDVIEW_DESIGN/P0-5.7_TASK_PACKET.md`
  - 任務概述
  - 交付物要求

---

## 十二、聯繫與溝通

### 12.1 溝通原則

- **開放討論**：歡迎提出問題、質疑和建議
- **文檔記錄**：所有討論和決策都應記錄在案
- **迭代優化**：可以根據實際情況調整設計方向

### 12.2 時間安排

- **預計時間**：1-2 天
- **交付物**：最小世界觀設計文檔

---

**文件狀態**：READY FOR DESIGN  
**下一步**：開始最小世界觀設計工作

---

**文件版本**：v1.0  
**最後更新**：2026-01-11
