# P0-5 後續優化任務清單

**建立日期**：2026-01-11  
**來源**：Atlas 人工測試結果建議  
**狀態**：記錄供後續發派任務時參考

---

## 一、優化任務分類

### P2：體驗優化（可選，不影響核心功能）

#### 任務 1：語言切換按鈕顯示改善
**建議內容**：建議使用者介面顯示按鈕當前語系（例如「中文 / EN」而非單一語言）以提高辨識度。

**優先級**：P2  
**實施難度**：低  
**預計時間**：15 分鐘

**實施方式**：
- 修改 `App.tsx` 中的按鈕文字顯示邏輯
- 例如：`{locale === 'zh-TW' ? '中文 / EN' : '中文 / EN'}` 或使用圖示

**文件位置**：
- `src/App.tsx`（第 76 行）

---

#### 任務 2：加大點擊範圍（行動端優化）
**建議內容**：建議仍可加大圓點與文字的可點擊範圍，方便行動端操作。

**優先級**：P2  
**實施難度**：低  
**預計時間**：10 分鐘

**當前狀態**：
- 已修復：hit area 32px，允許點擊文字
- 可進一步優化：增加至 40px 或更大

**實施方式**：
- 調整 `SymbolGlyph.tsx` 中的 `hitAreaRadius` 從 32px 增加至 40px
- 或根據設備類型動態調整

**文件位置**：
- `src/components/compass/SymbolGlyph.tsx`（第 40 行）

---

#### 任務 3：確認按鈕始終顯示
**建議內容**：可進一步在 0/3 ~ 2/3 階段也保持按鈕位置，但呈 disabled 狀態，避免用戶找不到按鈕。

**優先級**：P2  
**實施難度**：低  
**預計時間**：15 分鐘

**當前狀態**：
- 已實現：選滿 3 個後按鈕可見（sticky 定位）
- 建議：未選滿時也顯示按鈕（disabled 狀態）

**實施方式**：
- 修改 `RadialCompass.tsx` 中的按鈕顯示邏輯
- 始終顯示按鈕，但根據 `canConfirm` 狀態啟用/禁用

**文件位置**：
- `src/components/compass/RadialCompass.tsx`（第 213-221 行）

---

#### 任務 4：計數格式統一
**建議內容**：建議將計數格式統一，例如固定顯示為「0 / 3」以避免字體差異造成誤讀。

**優先級**：P2  
**實施難度**：低  
**預計時間**：10 分鐘

**實施方式**：
- 使用固定寬度字體或統一格式
- 例如：`{selectedIds.length.toString().padStart(2, '0')} / ${rules.selectMax}`

**文件位置**：
- `src/components/compass/RadialCompass.tsx`（第 130-132 行）

---

#### 任務 5：L2 等待階段動畫提示
**建議內容**：建議在 L2 出現前的等待階段，加入動態進度提示或過場動畫，避免使用者以為無反應。

**優先級**：P2  
**實施難度**：中  
**預計時間**：30 分鐘

**實施方式**：
- 添加載入動畫或進度指示器
- 例如：淡入動畫、進度條、或「揭示中...」提示

**文件位置**：
- `src/components/results/ResultStage.tsx`（第 44-51 行）
- `src/components/results/layers/L2Narrative.tsx`

---

#### 任務 6：路由管理
**建議內容**：流程沒有使用路由管理，直接使用瀏覽器「上一頁」可能導致進入 `about:blank`。建議在單頁流程中攔截瀏覽器後退按鈕或實作路由以避免跳出空白頁。

**優先級**：P2  
**實施難度**：中  
**預計時間**：1-2 小時

**實施方式**：
- 使用 React Router 或 History API
- 攔截瀏覽器後退事件
- 或禁用後退功能（單頁應用）

**文件位置**：
- `src/App.tsx`
- 可能需要添加 `react-router-dom` 路由配置

---

#### 任務 7：計數字體易讀性
**建議內容**：在部分字體下，「0」容易看成小寫「o」。建議在樣式上統一格式或直接使用圖示表示未選狀態。

**優先級**：P2  
**實施難度**：低  
**預計時間**：15 分鐘

**實施方式**：
- 使用等寬字體（monospace）
- 或使用圖示替代數字

**文件位置**：
- `src/components/compass/RadialCompass.tsx`（第 130-132 行）
- `src/components/compass/compass.css`

---

### P3：功能擴展（不屬於 P0-5 範圍）

#### 任務 8：選項結果差異化
**建議內容**：建議後續完善不同選項對應不同解籤結果，或在目前階段標記「開發中」。

**優先級**：P3  
**實施難度**：高（需要後端邏輯支持）  
**預計時間**：需要後端配合

**說明**：
- 當前數據結構只有一個問題，選項結果相同是正常的
- 未來需要：
  - 添加多個問題
  - 實現評分邏輯
  - 根據評分選擇不同結果
- 這是後續功能擴展，不屬於 P0-5 範圍

**建議**：不採納（數據結構限制，屬於後續功能擴展）

---

## 二、任務優先級建議

### 高優先級（建議優先實施）
無（所有 P1 問題已解決）

### 中優先級（可選實施）
1. 任務 5：L2 等待階段動畫提示（提升體驗）
2. 任務 6：路由管理（避免空白頁問題）

### 低優先級（可選實施）
1. 任務 1：語言切換按鈕顯示改善
2. 任務 2：加大點擊範圍
3. 任務 3：確認按鈕始終顯示
4. 任務 4：計數格式統一
5. 任務 7：計數字體易讀性

---

## 三、實施建議

### 3.1 立即實施（無）

所有 P1 問題已解決，無需立即實施。

### 3.2 可選實施

建議根據實際需求選擇實施：
- 如果重視行動端體驗：優先實施任務 2、任務 3
- 如果重視用戶體驗：優先實施任務 5
- 如果重視技術完整性：優先實施任務 6

### 3.3 不實施

- 任務 8：選項結果差異化（屬於後續功能擴展）

---

## 四、任務發派建議

### 4.1 單獨發派

每個任務可以單獨發派，實施難度低，時間短。

### 4.2 批量發派

可以將多個低優先級任務（任務 1、2、3、4、7）批量發派，預計總時間：1 小時。

### 4.3 後續階段

建議在 P1 階段（用戶驗證）後，根據用戶反饋決定是否實施這些優化。

---

**文件版本**：v1.0  
**狀態**：記錄供後續參考
