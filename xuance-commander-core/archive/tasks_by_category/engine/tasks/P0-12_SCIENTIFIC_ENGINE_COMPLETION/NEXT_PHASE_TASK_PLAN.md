# 下一階段任務規劃

**建立日期**：2026-01-12  
**目的**：為下一階段大升級和大檢討制定任務規劃  
**文件狀態**：READY FOR EXECUTION

---

## 🎯 任務總覽

### 核心目標

1. **補齊缺失內容**：建立 5 個缺失的 scoring 檔案
2. **系統升級**：題型系統、階段系統、分數計算系統
3. **引擎優化**：底層運算引擎效能和架構改進

---

## 📋 任務清單

### 任務 1：補齊缺失的 Scoring 檔案（優先級：高）

**目標**：建立 5 個缺失的 scoring 檔案

**缺失的主題**：
1. `social_comparison.scoring.v1.0.json`
2. `self_erosion.scoring.v1.0.json`
3. `emotional_permeability.scoring.v1.0.json`
4. `avoidance_coping.scoring.v1.0.json`
5. `unprocessed_loss.scoring.v1.0.json`

**步驟**：
1. 分析現有 scoring 檔案的設計模式
2. 參考現有 scoring 檔案（如 `stress_recovery.scoring.v1.0.json`）
3. 為每個缺失的主題建立 scoring 檔案
4. 驗證 scoring 邏輯正確性
5. 更新 manifest 檔案（如需要）

**預估工作量**：1-2 天

**交付物**：
- 5 個 scoring 檔案
- Scoring 設計規範文件

---

### 任務 2：題型系統升級（優先級：中）

**目標**：設計和實作多樣化的題型系統

**當前狀態**：
- 所有題目都使用 `likert_5` 類型
- 缺乏題型多樣性

**需求分析**：
1. 評估需要哪些題型
2. 分析現有題目是否適合當前題型
3. 設計新題型系統架構

**設計方案**：
1. 定義題型系統架構
2. 設計題型 Schema
3. 實作題型驗證邏輯

**實作步驟**：
1. 建立題型系統架構
2. 實作新題型支援
3. 遷移現有題目（如需要）
4. 測試和驗證

**預估工作量**：1-2 週

**交付物**：
- 題型系統架構文件
- 題型 Schema
- 題型驗證邏輯
- 遷移指南

---

### 任務 3：階段系統升級（優先級：中）

**目標**：設計和實作更靈活的階段系統

**當前狀態**：
- 只有 3 階段設計（low、mid、high）
- 未發現多輪問答設計

**需求分析**：
1. 評估是否需要多輪問答
2. 分析當前階段設計的限制
3. 設計新階段系統架構

**設計方案**：
1. 定義階段系統架構
2. 設計階段 Schema
3. 實作階段處理邏輯

**實作步驟**：
1. 建立階段系統架構
2. 實作新階段支援
3. 遷移現有階段設計（如需要）
4. 測試和驗證

**預估工作量**：1-2 週

**交付物**：
- 階段系統架構文件
- 階段 Schema
- 階段處理邏輯
- 遷移指南

---

### 任務 4：分數計算系統升級（優先級：中）

**目標**：設計和實作更靈活的分數計算系統

**當前狀態**：
- 使用簡單的閾值區分（thresholds）
- 所有主題使用相同計算邏輯

**需求分析**：
1. 評估當前計算方式的限制
2. 分析是否需要更複雜的計算邏輯
3. 設計新計算系統架構

**設計方案**：
1. 定義計算系統架構
2. 設計計算邏輯 Schema
3. 實作計算引擎

**實作步驟**：
1. 建立計算系統架構
2. 實作新計算邏輯
3. 遷移現有計算方式（如需要）
4. 測試和驗證

**預估工作量**：1-2 週

**交付物**：
- 計算系統架構文件
- 計算邏輯 Schema
- 計算引擎
- 遷移指南

---

### 任務 5：引擎優化（優先級：低）

**目標**：優化底層運算引擎

**當前狀態**：
- 引擎 code 固定且精簡
- 內容與邏輯分離

**需求分析**：
1. 效能分析：評估當前引擎效能
2. 識別效能瓶頸
3. 設計優化方案

**優化方案**：
1. 程式碼優化
2. 架構改進
3. 快取機制
4. 並行處理

**實作步驟**：
1. 效能測試和基準測試
2. 實作優化
3. 測試和驗證
4. 效能對比

**預估工作量**：2-3 週

**交付物**：
- 效能分析報告
- 優化後的引擎
- 效能對比報告

---

## 📊 任務優先級和時程

### 第一階段（1-2 週）

**任務**：補齊缺失的 Scoring 檔案

**目標**：
- 建立 5 個缺失的 scoring 檔案
- 確保系統完整性

---

### 第二階段（1-2 個月）

**任務**：系統升級

**目標**：
- 題型系統升級
- 階段系統升級
- 分數計算系統升級

---

### 第三階段（3-6 個月）

**任務**：引擎優化

**目標**：
- 效能優化
- 架構改進

---

## 📝 執行建議

### 立即執行

1. **補齊缺失的 Scoring 檔案**
   - 優先處理，影響系統完整性
   - 工作量小，可以快速完成

---

### 規劃執行

1. **系統升級任務**
   - 需要詳細的需求分析和設計
   - 建議分階段執行
   - 每個任務都需要完整的測試

---

### 長期規劃

1. **引擎優化**
   - 需要詳細的效能分析
   - 建議在系統穩定後執行

---

## ✅ 檢查清單

### 任務 1：補齊缺失的 Scoring 檔案

- [ ] 分析現有 scoring 檔案設計模式
- [ ] 建立 5 個缺失的 scoring 檔案
- [ ] 驗證 scoring 邏輯正確性
- [ ] 更新 manifest 檔案
- [ ] 產出設計規範文件

---

### 任務 2：題型系統升級

- [ ] 需求分析
- [ ] 設計題型系統架構
- [ ] 實作新題型支援
- [ ] 遷移現有題目
- [ ] 測試和驗證

---

### 任務 3：階段系統升級

- [ ] 需求分析
- [ ] 設計階段系統架構
- [ ] 實作新階段支援
- [ ] 遷移現有階段設計
- [ ] 測試和驗證

---

### 任務 4：分數計算系統升級

- [ ] 需求分析
- [ ] 設計計算系統架構
- [ ] 實作新計算邏輯
- [ ] 遷移現有計算方式
- [ ] 測試和驗證

---

### 任務 5：引擎優化

- [ ] 效能分析
- [ ] 設計優化方案
- [ ] 實作優化
- [ ] 測試和驗證
- [ ] 效能對比

---

**文件狀態**：READY FOR EXECUTION  
**最後更新**：2026-01-12  
**下一步**：開始執行任務 1（補齊缺失的 Scoring 檔案）
