# TASK_PACKAGE_INFORMATION_SUFFICIENCY_ANALYSIS（任務包資訊充足性分析）

## 狀態
- ACTIVE（自 2026-01-09 起生效）
- 這是總指揮（Cursor）產出任務包時的重要參考

---

## 目的
分析任務包模式的資訊充足性，確保副指揮官（GPT）和顧問師（Gemini）能夠掌握95%以上的充足資訊，去：
1. 判斷過去執行了什麼
2. 接下來要執行什麼
3. 現在要執行什麼
4. 給出全面的分析
5. 任務目標和項目的訂定

---

## 當前任務包模式的資訊缺口分析

### ⚠️ 發現的資訊缺口

#### 1. 過去執行歷史的資訊不足（⚠️ 關鍵缺口）
**當前任務包規則中的「背景資料」包含**：
- 相關文件：任務相關的文件路徑和內容摘要
- 現狀分析：當前狀態、已完成項目、待完成項目
- 相關任務：與其他任務的關聯

**但缺少**：
- ❌ **完整的任務歷史**：過去執行了哪些任務、完成狀態、關鍵決策
- ❌ **決策脈絡**：為什麼做這個決定、基於什麼背景
- ❌ **失敗經驗**：過去遇到過什麼問題、如何解決
- ❌ **專案整體進度**：目前專案處於哪個階段、整體完成度

**影響**：
- 副指揮官無法了解「過去執行了什麼」，可能做出重複決策
- 副指揮官無法了解「為什麼要執行這個任務」，可能偏離目標
- 副指揮官無法了解「整體項目狀態」，可能無法給出全面的分析

#### 2. 項目整體狀態的資訊不足（⚠️ 關鍵缺口）
**當前任務包可能只包含**：
- 當前任務的詳細資訊
- 與當前任務相關的其他任務

**但缺少**：
- ❌ **整體項目狀態**：所有任務的完成情況、整體進度
- ❌ **階段性目標**：當前處於哪個階段、階段目標是什麼
- ❌ **整體決策脈絡**：為什麼現在要執行這個任務、與整體目標的關係
- ❌ **風險與挑戰**：整體項目面臨的風險、已知挑戰

**影響**：
- 副指揮官無法給出「全面的分析」
- 副指揮官無法理解「任務目標和項目的訂定」的背景

#### 3. 未來規劃的資訊不足（⚠️ 中等缺口）
**當前任務包可能包含**：
- 下一步行動
- 依賴關係

**但缺少**：
- ❌ **未來任務清單**：接下來要執行哪些任務、優先級如何
- ❌ **階段性規劃**：短、中、長期目標
- ❌ **決策點**：哪些決策點需要特別注意

**影響**：
- 副指揮官無法了解「接下來要執行什麼」的完整規劃
- 副指揮官可能無法提出更好的建議（因為不知道未來規劃）

---

## 改進建議：增強任務包的資訊充足性

### 建議 1：在任務包中增加「專案歷史摘要」（Project History Summary）

#### 新增項目
每個任務包必須包含：

**1. 過去執行歷史摘要**：
- **最近完成的任務**（最近 3-5 個）：
  - 任務名稱、完成狀態、關鍵成果、關鍵決策
  - 路徑引用：詳細記錄位置
- **關鍵決策點**：
  - 為什麼做這個決定
  - 基於什麼背景
  - 相關 ADR 或決策文件
- **失敗經驗**（如果有）：
  - 過去遇到的問題
  - 如何解決的
  - 從中學到的教訓

**2. 專案整體狀態**：
- **整體進度**：當前階段、整體完成度
- **階段性目標**：當前階段的目標、已完成、待完成
- **整體決策脈絡**：為什麼現在要執行這個任務、與整體目標的關係
- **風險與挑戰**：整體項目面臨的風險、已知挑戰

**3. 未來規劃摘要**：
- **短期任務清單**（接下來 1-2 週）：
  - 任務名稱、優先級、預計時程
- **階段性規劃**：
  - 當前階段、下一個階段、目標
- **決策點**：
  - 哪些決策點需要特別注意
  - 預計決策時間

---

## 任務包格式改進（建議）

### 改進後的任務包格式

```markdown
# 任務包：[任務名稱]

## 1. 任務目標（Task Goal）
[現有內容]

## 2. 專案歷史摘要（Project History Summary）【新增】
### 2.1 過去執行歷史
- **最近完成的任務**（最近 3-5 個）：
  - [任務名稱]：完成狀態、關鍵成果、關鍵決策
  - 詳細記錄：`docs/ops/TASK_RECORDS_INDEX.md`
- **關鍵決策點**：
  - [決策內容]：為什麼、基於什麼背景、相關 ADR
- **失敗經驗**（如果有）：
  - [問題]：如何解決、學到的教訓

### 2.2 專案整體狀態
- **整體進度**：[當前階段、整體完成度]
- **階段性目標**：[當前階段、已完成、待完成]
- **整體決策脈絡**：[為什麼現在要執行這個任務、與整體目標的關係]
- **風險與挑戰**：[整體項目面臨的風險、已知挑戰]

### 2.3 未來規劃摘要
- **短期任務清單**（接下來 1-2 週）：
  - [任務名稱]：優先級、預計時程
- **階段性規劃**：
  - [當前階段] → [下一個階段] → [目標]
- **決策點**：
  - [決策點]：預計時間、需要注意的事項

## 3. 背景資料（Background）【改進】
### 3.1 相關文件
[現有內容]

### 3.2 現狀分析（擴充）
- **當前狀態**：[當前狀態]
- **已完成項目**：[已完成項目，包含關鍵成果]
- **待完成項目**：[待完成項目]
- **阻塞點**：[如果有阻塞，說明原因和影響]

### 3.3 相關任務（擴充）
- **上游任務**：[哪些任務的完成導致這個任務]
- **下游任務**：[這個任務的完成會影響哪些任務]
- **並行任務**：[同時進行的相關任務]

## 4. 任務內容（Task Content）
[現有內容]

## 5. 約束條件（Constraints）
[現有內容]

## 6. 資源需求（Resources）
[現有內容]

## 7. 優先級與時程（Priority & Timeline）
[現有內容]
```

---

## 任務包資訊充足性檢查清單

### 總指揮（Cursor）產出任務包時，必須檢查：

#### ✅ 過去執行歷史（Past Execution History）
- [ ] 是否包含最近完成的任務摘要（最近 3-5 個）？
- [ ] 是否包含關鍵決策點（為什麼、基於什麼背景）？
- [ ] 是否包含失敗經驗（如果有）？
- [ ] 是否包含詳細記錄的路徑引用？

#### ✅ 專案整體狀態（Overall Project Status）
- [ ] 是否包含整體進度（當前階段、整體完成度）？
- [ ] 是否包含階段性目標（當前階段、已完成、待完成）？
- [ ] 是否包含整體決策脈絡（為什麼現在要執行這個任務）？
- [ ] 是否包含風險與挑戰（整體項目面臨的風險）？

#### ✅ 未來規劃摘要（Future Planning Summary）
- [ ] 是否包含短期任務清單（接下來 1-2 週）？
- [ ] 是否包含階段性規劃（當前階段、下一個階段、目標）？
- [ ] 是否包含決策點（哪些決策點需要特別注意）？

#### ✅ 背景資料（Background）
- [ ] 是否包含相關文件（任務相關的文件路徑和內容摘要）？
- [ ] 是否包含現狀分析（當前狀態、已完成項目、待完成項目、阻塞點）？
- [ ] 是否包含相關任務（上游任務、下游任務、並行任務）？

---

## 資訊充足性目標

### 目標：副指揮官能夠掌握95%以上的充足資訊

#### 可達成95%以上充足資訊的條件
1. **過去執行歷史**：
   - ✅ 最近 3-5 個完成的任務摘要
   - ✅ 關鍵決策點和決策脈絡
   - ✅ 詳細記錄的路徑引用（需要時可深入查閱）

2. **專案整體狀態**：
   - ✅ 整體進度和階段性目標
   - ✅ 整體決策脈絡和風險挑戰
   - ✅ 與整體目標的關係

3. **未來規劃**：
   - ✅ 短期任務清單和階段性規劃
   - ✅ 決策點和預計時間

4. **當前任務詳細資訊**：
   - ✅ 任務目標、內容、約束條件、資源需求
   - ✅ 相關文件和現狀分析

#### 無法達成的5%資訊（可接受）
- **非常詳細的技術細節**：需要時可以提出請求
- **非常久遠的歷史記錄**：超過 3-5 個任務前的歷史（如有需要可提出請求）
- **未決策的事項**：尚未決策的事項，需要討論

---

## 改進實施建議

### 立即實施（優先級 P0）
1. **更新任務包規則**：
   - 在 `CURSOR_TASK_PACKAGE_RULE.md` 中增加「專案歷史摘要」部分
   - 明確要求包含過去執行歷史、專案整體狀態、未來規劃摘要

2. **更新任務包範例**：
   - 在 `CURSOR_TASK_PACKAGE_RULE.md` 中更新任務包範例
   - 展示如何包含「專案歷史摘要」

### 短期實施（優先級 P1）
3. **建立任務包資訊充足性檢查清單**：
   - 總指揮產出任務包時，必須檢查此清單
   - 確保95%以上資訊充足性

4. **建立專案歷史摘要模板**：
   - 統一的格式和結構
   - 確保資訊完整且易於理解

---

## 狀態
- ACTIVE（自 2026-01-09 起生效）
- 總指揮（Cursor）產出任務包時，必須參考此文件
- 必須確保任務包資訊充足性達到95%以上



