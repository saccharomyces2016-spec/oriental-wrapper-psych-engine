# QUESTION_FLOW_DESIGN_PRIORITY_ANALYSIS（題目流程設計優先級分析）

## 狀態
- ACTIVE
- EDITABLE
- 建立日期：2026-01-10
- 目的：分析「題目類型設計」和「多階段分流系統」是否需要在 P0-5 之前插入臨時主線任務

---

## 問題核心

### 使用者提出的關鍵問題
1. **題型設計影響題目設計**：單選、複選、多選的選擇會直接影響題目如何訂定
2. **UI 界面設計影響題型呈現**：八卦盤、陰陽兩極等界面設計會影響題型的呈現方式
3. **多階段分流系統**：需要設計一個能夠「涵蓋全人類、全年齡、全困擾、全困境」的強大分流選擇系統
4. **不讓使用者覺得沒有符合的選項**：必須確保使用者能夠找到符合他們人生困境的選項

---

## 重要性評估

### ✅ 非常重要（Critical）

1. **終極目標要求**
   - **要求**：能夠適用於「全世界、全文化、全人類、全年齡、全性別、全困擾、全問題場景」
   - **影響**：如果題目流程設計無法涵蓋全人類，就無法達成終極目標
   - **風險**：後續需要大幅重構，成本極高

2. **題型設計影響後續開發**
   - **影響**：題型選擇會影響題目的設計方法論
   - **影響**：題型選擇會影響 UI 架構的設計
   - **風險**：如果 P0-5 使用錯誤的題型，後續引入八卦盤時可能需要重寫

3. **多階段分流系統的必要性**
   - **需求**：需要「一開始涵蓋全人類」→「逐步收斂到特定困境」的分流系統
   - **現狀**：當前只有單一 Facet 的題目設計，沒有跨 Facet 的分流機制
   - **風險**：如果沒有分流系統，使用者可能覺得「沒有符合我困境的選項」

### ⚠️ 但需要平衡 MVP 目標

1. **P0-5 的目標**
   - **目標**：驗證端到端流程可運作
   - **非目標**：不優化視覺設計、不實作進階 UX 功能
   - **風險**：如果過度設計，可能影響 MVP 的完成

2. **題型可擴充性設計**
   - **現狀**：P0-5 已經考慮題型可擴充性（見 `P0-5_QUESTION_MODALITY_EXTENSIBILITY.md`）
   - **設計**：數據層與呈現層分離，支持未來切換到八卦盤
   - **風險**：如果現在不確定題型，可能影響可擴充性設計

---

## 建議方案

### 方案 A：插入臨時主線任務（P0-4.5）
**優點**：
- ✅ 在 P0-5 之前確定題型設計和分流系統
- ✅ 確保 P0-5 的 UI 架構符合未來的八卦盤設計
- ✅ 確保題目設計方法論能夠支持「涵蓋全人類」的要求
- ✅ 避免後續大幅重構

**缺點**：
- ⚠️ 可能延遲 P0-5 的完成
- ⚠️ 如果設計過於複雜，可能影響 MVP 目標

### 方案 B：P0-5 完成後再處理（P0-5.5）
**優點**：
- ✅ 不影響 P0-5 MVP 的完成
- ✅ 可以基於 P0-5 的實際體驗來設計

**缺點**：
- ❌ 可能需要在 P0-5 完成後重新設計 UI 架構
- ❌ 題目設計可能不符合未來的八卦盤界面
- ❌ 可能無法達成「涵蓋全人類」的終極目標

---

## 建議決策：插入臨時主線任務（P0-4.5）

### 理由

1. **終極目標的絕對優先級**
   - 終極目標明確要求「涵蓋全人類、全年齡、全困擾、全困境」
   - 如果沒有多階段分流系統，無法達成此目標
   - **這是阻斷性問題，不是優化問題**

2. **題型設計的關鍵影響**
   - 題型選擇會影響題目的設計方法論
   - 題型選擇會影響 UI 架構的設計
   - 如果 P0-5 使用錯誤的題型，後續引入八卦盤時可能需要重寫
   - **這是架構決策，不是細節優化**

3. **八卦盤界面的明確規劃**
   - 終極目標明確提到「八卦盤、陰陽兩極」等界面設計
   - 這些界面設計會影響題型的呈現方式
   - 如果現在不考慮，後續可能需要大幅修改
   - **這是未來規劃，不是臨時需求**

4. **MVP 目標仍然可以達成**
   - P0-5 的目標是「驗證端到端流程可運作」
   - 設計分流系統和題型選擇不會阻斷此目標
   - 可以在 P0-5 實作時採用設計好的分流系統
   - **這是前置設計，不是延後實作**

---

## 建議的臨時主線任務：P0-4.5

### 任務名稱：題目流程與分流系統設計（Question Flow & Funnel System Design）

### 任務目標（一句話）
設計一個能夠「涵蓋全人類、全年齡、全困擾、全困境」的多階段分流選擇系統，確定題型設計策略，為未來的八卦盤界面設計奠定基礎。

### 優先級
**P0**（立即處理，阻斷主線）- 因為這是達成終極目標的必要條件

### 依賴關係
- **前置任務**：P0-4（已完成）
- **後續任務**：P0-5（需要此任務的設計結果）

### 交付物

1. **多階段分流系統設計**
   - 文件：`docs/domain/design/QUESTION_FLOW_FUNNEL_SYSTEM.md`
   - 內容：
     - 階段 1：全人類困境分類（如何涵蓋所有可能的困境）
     - 階段 2：困境細化選擇（如何收斂到特定困境）
     - 階段 3：Facet 選擇（如何選擇對應的 Facet）
     - 階段 4：題目問答（如何在選定的 Facet 上進行問答）
     - 階段 5：結果呈現（如何呈現結果）

2. **題型設計策略**
   - 文件：`docs/domain/design/QUESTION_MODALITY_STRATEGY.md`
   - 內容：
     - 不同階段應該使用什麼題型（單選、複選、多選、符號選擇等）
     - 如何為未來的八卦盤界面設計題型
     - 如何確保題型選擇不會讓使用者覺得「沒有符合的選項」

3. **八卦盤界面整合規劃**
   - 文件：`docs/domain/design/BAGUA_INTERFACE_INTEGRATION_PLAN.md`
   - 內容：
     - 八卦盤界面在哪些階段使用
     - 八卦盤界面如何與題型設計整合
     - 八卦盤界面的數據結構要求

4. **題目設計方法論更新**
   - 文件：`docs/domain/design/QUESTION_DESIGN_METHODOLOGY.md`
   - 內容：
     - 更新題目設計方法論，支持多階段分流系統
     - 如何設計「涵蓋全人類」的題目
     - 如何確保題目不會讓使用者覺得「沒有符合的選項」

### 顧問師需求

1. **R1：題目設計顧問**（必備）
   - 設計多階段分流系統的題目
   - 設計不同階段的題型選擇策略

2. **R2：玄學敘事顧問**（必備）
   - 設計分流系統的玄學語感
   - 設計八卦盤界面的敘事語言

3. **R3：行動建議顧問**（可選）
   - 設計分流過程中的引導語

4. **副指揮官**（必備）
   - 協調各顧問師的輸出
   - 確保設計符合終極目標

### 成功標準

1. ✅ 設計出能夠「涵蓋全人類、全年齡、全困擾、全困境」的分流系統
2. ✅ 確定不同階段應該使用的題型
3. ✅ 設計出能夠支持未來八卦盤界面的題型結構
4. ✅ 確保題目設計方法論能夠支持分流系統
5. ✅ 副指揮官和顧問師都理解設計意圖和終極目標

---

## 風險與緩解

### 風險 1：設計過於複雜，影響 MVP 完成
**緩解**：
- 先設計核心分流邏輯，不設計過於複雜的細節
- 確保設計結果可以逐步實作，不需要一次性完成
- 明確區分「必須實作」和「可以後續優化」

### 風險 2：設計與 P0-5 的目標衝突
**緩解**：
- 確保設計結果與 P0-5 的「最小 UI 串接」目標不衝突
- 可以在 P0-5 先實作基本的分流邏輯，後續再優化
- 保持設計的靈活性，支持未來調整

### 風險 3：設計不符合終極目標
**緩解**：
- 在任務包中包含完整的終極目標說明
- 要求副指揮官和顧問師明確理解終極目標
- 設計過程中持續檢查是否符合終極目標

---

## 狀態
- ACTIVE
- EDITABLE
- 建議採納：插入臨時主線任務 P0-4.5
- 建議優先級：P0（立即處理，阻斷主線）



