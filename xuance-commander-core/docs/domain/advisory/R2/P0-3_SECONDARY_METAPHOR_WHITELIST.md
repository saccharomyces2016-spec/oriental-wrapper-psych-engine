# P0-3 Secondary Metaphor Whitelist（次隱喻白名單｜SSOT）

## 狀態
- ACTIVE
- Facet 限定：`income_expansion_pressure`（歲時農耕・倉廩觀）
- 版本：v1.0
- 日期：2026-01-09

---

## 1️⃣ 次隱喻裁決（Facet 限定）

### 適用範圍
- **Facet**：`income_expansion_pressure`
- **主隱喻**：歲時農耕・倉廩觀
- **重要**：以下裁決 **僅對本 Facet 生效，不具全域封鎖效力**。

### 裁決結果

| 次隱喻類型 | 狀態 | 說明 |
|-----------|------|------|
| 航海 / 航向 / 風浪 | ❌ **Forbidden** | 僅允許轉譯為「風雨 / 洪災」等陸地氣象 |
| 導航 / 羅盤 / 坐標 | ⚠️ **Restricted** | 禁科技、禁航海；僅限觀星 / 地標 |
| 蜃樓 / 幻景 | ✅ **Allowed** | 視為大氣現象（霧氣、熱浪） |
| 築屋 / 修繕 | ✅ **Allowed** | 倉廩 / 堤防的必要延伸 |
| 山路 / 坡度 | ✅ **Allowed** | 地勢阻力描述 |

### 制度備註
**重要**：其他 Facet（如競爭、對抗、狩獵）可另行開放「獵物 / 追逐」隱喻，**不得反向影響本 Facet**。

---

## 2️⃣ 次隱喻機器化使用規則（白名單）

### A. 使用密度（Hard Rule）
- **每一層 L1–L4**：最多 **1 個**次隱喻關鍵詞
- **違規後果**：超過 1 個即 FAIL

### B. 禁止角色與場景替換
- **主體只能是**：耕者 / 守倉人
- **場景只能是**：田 / 倉 / 地
- **禁止出現**：船長 / 舵手 / 海 / 港 / 船

### C. 禁用詞（Grep 即 FAIL）

```
/(船|帆|錨|舵|港|海|洋|艦|甲板|羅盤|坐標|地圖|GPS|登陸|靠岸)/
```

**檢查方法**：
- Regex 匹配上述關鍵詞 → **FAIL（Gate=0）**
- 不分大小寫
- 匹配到任何一個即觸發

### D. 跨段規則（Hard Rule）
- **禁止跨句、跨段延展**
- 次隱喻必須 **單句即止**
- 不得在多個句子中延展同一次隱喻

### E. 允許詞表（Whitelist）

#### 導引類（Restricted）
- **允許詞**：北斗、星辰、信標、方位
- **使用限制**：僅限觀星 / 地標，禁止科技化表述（如 GPS、座標系統）

#### 幻象類（Allowed）
- **允許詞**：蜃樓、霧氣、熱浪、倒影
- **使用限制**：視為大氣現象，不構成隱喻衝突

#### 修繕類（Allowed）
- **允許詞**：修補、加固、築堤、補漏
- **使用限制**：倉廩 / 堤防的必要延伸，符合主隱喻

#### 地形類（Allowed）
- **允許詞**：山道、泥沼、坡度、險阻
- **使用限制**：地勢阻力描述，符合農耕語境

---

## 3️⃣ 治理定位說明（必讀）

### 規則性質
- **本規則屬於**：P0-3 Facet-Level Governance
- **不等於**：全域禁用
- **適用範圍**：僅限 Facet `income_expansion_pressure`（歲時農耕・倉廩觀）

### 跨 Facet 隔離規則
其他 Facet 若需使用狩獵 / 航行隱喻，必須：
1. **另立 Facet**：新建獨立的 Facet 定義
2. **另立白名單**：建立該 Facet 專屬的次隱喻白名單
3. **不可回滲本 Facet**：其他 Facet 的允許詞彙，不得反向影響本 Facet 的規則

### 與文明原型一致性規則的關係
本規則遵循 `docs/domain/advisory/GOVERNANCE_METAPHOR_COMPATIBILITY_RULE.md`（文明原型一致性規則）：
- 詞彙可用性基於 Facet 主文明隱喻
- 不構成跨系統永久禁用詞彙清單
- 每個 Facet 獨立判斷詞彙相容性

---

## 4️⃣ 機器化檢查規格

### CI / Golden Test 驗證規則

#### 規則 1：使用密度檢查
```regex
# 每個 L1-L4 段落中，次隱喻關鍵詞出現次數
# 若 > 1 → FAIL
```

#### 規則 2：禁用詞檢查
```regex
/(船|帆|錨|舵|港|海|洋|艦|甲板|羅盤|坐標|地圖|GPS|登陸|靠岸)/
# 匹配到任何一個 → FAIL
```

#### 規則 3：角色場景檢查
```regex
# 禁止出現：船長|舵手|海|港|船
# 主體只能是：耕者|守倉人
# 場景只能是：田|倉|地
# 違規 → FAIL
```

#### 規則 4：跨段延展檢查
```regex
# 檢查同一段落內，次隱喻關鍵詞是否出現在多個句子中
# 若跨句延展 → FAIL
```

### 驗收點
- ✅ 明確結論：哪些次隱喻允許/禁止（見上述裁決表）
- ✅ 有「每段最多幾個」與「禁止句型」的硬規則（見上述規則）
- ✅ Golden tests/CI gate 可用固定規則驗證（見上述 Regex 規格）

---

## 5️⃣ 與既有文件的關係

### 與 P0-3_SECONDARY_METAPHOR_RULES.md 的關係
- **P0-3_SECONDARY_METAPHOR_RULES.md**：定義允許/禁止的域（domain-level）
- **本文件**：定義具體詞彙裁決和使用規則（token-level + usage rules）

### 與 P0-3_SECONDARY_METAPHOR_WHITELIST.json 的關係
- **P0-3_SECONDARY_METAPHOR_WHITELIST.json**：機器可讀的 JSON 格式（用於 CI/自動檢查）
- **本文件**：人類可讀的完整規則說明（用於理解和管理）

---

## 6️⃣ 狀態與版本

- **狀態**：ACTIVE
- **版本**：v1.0
- **建立日期**：2026-01-09
- **建立依據**：R2 顧問裁決（P0-3 B1 任務交付）
- **審核結論**：完全符合 P0-3 的主隱喻一致性、可擴充性與機器可檢查性要求，沒有收斂過度，也沒有為未來其他 Facet 封死空間。

---

## 附錄：審核結論

**結論一句話**：  
R2 的裁決與規則完全符合 P0-3 的主隱喻一致性、可擴充性與機器可檢查性要求，沒有收斂過度，也沒有為未來其他 Facet 封死空間。

**關鍵驗收點**：
- ✅ 不會限制未來題型與領域
- ✅ 有效防止「農耕 Facet 被獵人/船長污染」
- ✅ 機器可檢查、可 CI 化
- ✅ 保留未來擴充空間



