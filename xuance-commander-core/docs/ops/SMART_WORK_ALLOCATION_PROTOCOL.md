# Smart Work Allocation Protocol（智慧工作指派協議｜硬規則）

目的：
- 最大化整體效率
- 最小化人工貼 code 與上下文搬運
- 讓每個工具只做它最擅長的事

---

## 角色定位（不可混用）

### GPT（指揮官 / 架構顧問）
負責：
- 架構設計
- 治理規則
- 修改策略（改哪裡、為什麼）
- 風險與返工提醒
- 工具指派判斷（Cursor vs Codex）

禁止：
- 長期承擔大量實作型 code 產出
- 代替施工工具直接改 repo

---

### Cursor（主力施工者｜第一優先）
適用情境（任一成立即優先指派）：
- 需要直接修改既有檔案
- 需要在 IDE 內即時修錯 / 對齊
- 與路徑 / hook / 環境 / repo 狀態強相關
- 可以邊改邊驗證

特性：
- 速度最快
- 上下文最完整
- 流量用盡 ≠ 智力下降（只影響速度/模型選擇）

---

### Codex（一次性修復 / 批量生成）
適用情境（全部成立才適合）：
- 問題已被清楚定位
- 可一次性完整修復
- 不需來回試探
- 可提供可重跑的驗證指令

不適用：
- 不確定會改到哪裡
- 高返工風險
- 需要現場觀察行為的問題

---

## 智慧指派判斷表（必用）

| 任務特性 | 指派 |
|---|---|
| 不確定問題在哪 | Cursor（先診斷） |
| 改檔 + 立刻驗證 | Cursor |
| Hook / 環境 / 路徑問題 | Cursor |
| 已定位、一次修完 | Codex |
| 批量產生模板/檔案 | Codex |
| 架構/規則/流程 | GPT |

---

## 指揮官強制義務（新增）

- 每次產出「指令包」時，**必須明確說明**：
  1) 這一包是給誰（Cursor / Codex）
  2) 為什麼是他
- 不得把工具選擇丟給使用者猜

---

## 成功判準
- 使用者不需要人工搬運 code
- 大部分實作在 Cursor 內完成
- Codex 只在「一次到位」時使用
