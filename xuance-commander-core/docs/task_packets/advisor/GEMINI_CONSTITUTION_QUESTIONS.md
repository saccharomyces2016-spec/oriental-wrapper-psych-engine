# Gemini Constitution 追問包

**建立日期**：2026-01-13  
**狀態**：OPEN  
**用途**：追問 Gemini 方案中需要裁示的部分

---

## 📋 快速背景

**專案目標**：
- 世界級水準、國際市場、全文化、全年齡
- 核心引擎可審計；外層以東方命理敘事呈現

**當前狀態**：
- V4 引擎實作已完成（`engine/score_facet.py`）
- Schema 已更新（domainKey/questionSet/scoringModel）
- Volatility 標準差模式已明確為 sample stddev
- **任務包已裁示**：Rigidity 預設值為 0.0（符合 DIRECTIVE REV.B）

**Gemini 方案**：
- 提供完整的 CONSTITUTION 增強版本
- 引入角色原型參數矩陣
- 引入五行全循環矩陣（剋/洩）
- **建議** Rigidity 預設值改為 0.1

---

## ❓ 關鍵追問問題（3 個）

### 追問 1：五行全循環矩陣（剋/洩雙向傳導）（PRIORITY: MEDIUM）

**問題**：是否需要引入「洩（Exhaustion）」路徑，擴充為雙向傳導？

**現狀**：
- 現有實作只有「剋（Overcomes）」路徑（`engine/cascade_calculator.py`）
- Gemini 方案引入「洩（Exhaustion）」路徑，提供完整的 5-Element 全循環矩陣

**選項**：
- **選項 A**：採納「洩」路徑，建立 ADR，更新實作
  - 理由：更完整的五行理論，能解釋「資源耗盡」類型的連鎖反應；符合「準到發毛」的目標
  - 代價：需要更新 `cascade_calculator.py` 和 `cascade_overrides.v1.0.json`；可能產生更多警告（需要調整 Anti-Spam 規則）
- **選項 B**：暫時不採納，先驗證「剋」路徑是否足夠
  - 理由：現有「剋」路徑已能解釋大部分連鎖反應；避免過度複雜化
  - 代價：可能無法解釋「資源耗盡」類型的連鎖反應
- **選項 C**：採納但簡化（例如：只在特定條件下觸發「洩」路徑）
  - 理由：平衡完整性和複雜度
  - 代價：需要定義觸發條件

**需要執行的行動**：
- 如果採用選項 A：建立 ADR，更新 `cascade_calculator.py`，更新 `cascade_overrides.v1.0.json`，調整 Anti-Spam 規則
- 如果採用選項 B：維持現有實作
- 如果採用選項 C：定義觸發條件，建立 ADR，更新實作

---

### 追問 2：角色原型參數矩陣（PRIORITY: MEDIUM）

**問題**：是否需要引入完整的角色原型參數矩陣？

**現狀**：
- CONSTITUTION V4 Section 5.1 提到「Role Archetype（可選或弱必填）：用於調整 `volatility_thresholds`」
- 但沒有具體的角色定義和參數矩陣
- Gemini 方案提供完整的 4 個角色原型（開拓者、守成者、謀略者、工匠）和參數矩陣

**選項**：
- **選項 A**：採納 4 個角色原型，建立 ADR，更新實作
  - 理由：更精準的個人化調整；符合「準到發毛」的目標
  - 代價：需要建立 ADR；需要更新 UI 加入角色選擇器；需要驗證參數值的合理性
- **選項 B**：暫時不採納，先驗證是否需要角色原型
  - 理由：現有系統已能運作；避免過度複雜化
  - 代價：可能無法提供個人化調整
- **選項 C**：採納但簡化（例如：只調整 `volatility_thresholds`，不調整 `rigidity_weight`）
  - 理由：平衡個人化和複雜度
  - 代價：功能較不完整

**需要執行的行動**：
- 如果採用選項 A：建立 ADR，定義角色原型，建立參數矩陣，更新 UI，更新引擎實作
- 如果採用選項 B：維持現有設計
- 如果採用選項 C：定義簡化版角色原型，建立 ADR，更新實作

**額外問題**：
1. 為什麼選擇這 4 個角色原型？是否有遺漏？
2. 參數值（`volatility_thresholds` 和 `rigidity_weight`）的設定依據是什麼？
3. 如何處理使用者不選擇角色的情況？（使用預設值？）

---

### 追問 3：Rigidity 預設值（0.1 vs 0.0）（PRIORITY: HIGH）

**問題**：缺失 Priors 時，Rigidity 預設值應該是 0.0 還是 0.1？

**現狀**：
- **任務包已裁示**：採用 0.0（符合 DIRECTIVE REV.B 的實際內容）
- **DIRECTIVE REV.B Section 1.2**：`if not profile: return 0.0`
- **Gemini 方案**：建議改為 0.1（Internal Deficit），理由是「使用者會來尋求幫助，通常帶有輕微的無力感，0.0 過於理想化」

**選項**：
- **選項 A**：維持 0.0（符合任務包裁示和 DIRECTIVE REV.B）
  - 理由：任務包已明確裁示；DIRECTIVE REV.B 是技術裁示文件，具有更高的權威性；缺失 Priors 時，不應該假設使用者的歸因模式；0.0 是最安全的預設值（避免誤判）
- **選項 B**：改為 0.1（需要建立 ADR 說明理由，更新 DIRECTIVE REV.B）
  - 理由：Gemini 的理由（使用者會來尋求幫助，通常帶有輕微的無力感）有一定合理性；0.1 代表「Internal Deficit」，是一個較低的固著值
  - 代價：需要建立 ADR 說明為何改為 0.1；需要更新 DIRECTIVE REV.B；與任務包裁示衝突
- **選項 C**：改為 0.1，但僅在特定條件下（例如：使用者明確選擇了 Role Archetype）
  - 理由：平衡安全性和個人化
  - 代價：需要定義觸發條件；邏輯較複雜

**需要執行的行動**：
- 如果採用選項 A：維持現有裁示，不變更
- 如果採用選項 B：建立 ADR 說明為何改為 0.1，更新 DIRECTIVE REV.B，更新 CONSTITUTION，更新 `engine/score_facet.py`
- 如果採用選項 C：定義觸發條件，建立 ADR，更新實作

**額外問題**：
1. Gemini 是否了解任務包已裁示採用 0.0？
2. 是否有實際數據支持「使用者會來尋求幫助，通常帶有輕微的無力感」這個假設？

---

## 📊 建議的裁示選項

### 建議 1：五行全循環矩陣
**建議選項**：選項 C（採納但簡化）

**理由**：
- 完整的五行理論確實包含「洩」路徑
- 但需要避免過度複雜化和產生過多警告
- 可以先在特定條件下觸發（例如：`final_score > 0.85` 且 `volatility > 0.35`）

---

### 建議 2：角色原型參數矩陣
**建議選項**：選項 A（採納 4 個角色原型）

**理由**：
- 符合「準到發毛」的目標
- 個人化調整能提升使用者體驗
- 但需要建立 ADR 記錄此決策

---

### 建議 3：Rigidity 預設值
**建議選項**：選項 A（維持 0.0）

**理由**：
- 任務包已明確裁示採用 0.0
- DIRECTIVE REV.B 是技術裁示文件，具有更高的權威性
- Gemini 的理由（使用者會來尋求幫助，通常帶有輕微的無力感）是推論，不是事實
- 0.0 是最安全的預設值（避免誤判）

---

## ✅ 可直接整合的部分（已完成）

以下部分已經過審核，可以直接整合到現有文件：

1. ✅ **Domain Schema i18n 結構** → 可整合到 `schemas/domain.schema.json`
2. ✅ **題目數量規範（8 題固定）** → 可更新 CONSTITUTION Section 2

---

**建立日期**：2026-01-13  
**狀態**：OPEN  
**等待裁示**：使用者對追問問題的回應
