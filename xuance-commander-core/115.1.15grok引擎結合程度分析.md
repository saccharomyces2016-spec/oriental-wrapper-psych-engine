# 115.1.15 Grokå¼•æ“çµåˆç¨‹åº¦åˆ†æ

**æ–‡ä»¶ç‰ˆæœ¬ï¼š** v1.0 (Grokåˆ†æ)
**åˆ†æå°è±¡ï¼š** è¡¨å±¤ç³»çµ±ï¼ˆæ±æ–¹ç„å­¸ä»‹é¢ï¼‰Ã— åº•å±¤å¼•æ“ï¼ˆç¾ä»£å¿ƒç†ç§‘å­¸ï¼‰
**åˆ†ææ™‚é–“ï¼š** 2026-01-15

---

## ğŸ¯ åˆ†æç¸½çµ

### çµåˆç‹€æ…‹ï¼š**é«˜åº¦æ•´åˆ** âœ…

åº•å±¤å¼•æ“å·²ç¶“**å®Œå…¨è¢«æ•´åˆ**åˆ°è¡¨å±¤ç³»çµ±ä¸­ï¼Œå¯¦ç¾äº†ï¼š
- âœ… **100% åŠŸèƒ½è¦†è“‹**ï¼šæ‰€æœ‰åº•å±¤å¿ƒç†å­¸é‚è¼¯éƒ½å·²æ˜ å°„åˆ°è¡¨å±¤ç¬¦è™Ÿ
- âœ… **é›™å‘æ•¸æ“šæµ**ï¼šç¬¦è™Ÿè¼¸å…¥ â†” å¿ƒç†å­¸é‹ç®— â†” æ±æ–¹æ•˜äº‹è¼¸å‡º
- âœ… **å³æ™‚é©é…**ï¼šæ ¹æ“šGAPåˆ†æå‹•æ…‹èª¿æ•´å¦è±¡èˆ‡å»ºè­°
- âœ… **å®‰å…¨ä¿éšœ**ï¼šä¿ç•™æ‰€æœ‰L4å®‰å…¨å”è­°èˆ‡é†«ç™‚åˆè¦è¨­è¨ˆ

---

## ğŸ“ åƒèˆ‡æ•´åˆçš„æª”æ¡ˆèˆ‡è³‡æ–™å¤¾

### æ ¸å¿ƒæ•´åˆæª”æ¡ˆ

#### 1. **å¼•æ“æ•´åˆä¸»é«”**
```
engine/symbol_facet_mapper.py (æ–°ç‰ˆæœ¬)
â”œâ”€â”€ é¡åˆ¥ï¼šPsychologicalEngine (æ›¿æ›BuGuaEngine)
â”œâ”€â”€ æ–¹æ³•ï¼šdiagnose_comprehensive() - 4éšæ®µå®Œæ•´è¨ºæ–·
â”œâ”€â”€ åŠŸèƒ½ï¼šGAPåˆ†æ + é™°é™½å®šéŒ¨ + å¦è±¡ç”Ÿæˆ
â””â”€â”€ æ•´åˆï¼šå®Œå…¨æ•´åˆåº•å±¤23å€‹Facet + V3å¼•æ“é‚è¼¯
```

#### 2. **APIæ•´åˆä»‹é¢**
```
api/comprehensive_api.py (æ–°å»º)
â”œâ”€â”€ ç«¯é»ï¼š/api/comprehensive/diagnose
â”œâ”€â”€ è¼¸å…¥ï¼š4éšæ®µç¬¦è™Ÿé¸æ“‡
â”œâ”€â”€ è¼¸å‡ºï¼šè¨ºæ–·çµæœ + AIæ•˜äº‹ + å»ºè­° + é¢¨éšªæé†’
â””â”€â”€ é©—è­‰ï¼šå³æ™‚è¼¸å…¥æœ‰æ•ˆæ€§æª¢æŸ¥
```

#### 3. **ç¬¦è™Ÿåº«æ“´å±•**
```
symbol_library/
â”œâ”€â”€ symbols_phaseA_complete.json (æ—¢æœ‰) - å…«å¦é ˜åŸŸç¬¦è™Ÿ
â”œâ”€â”€ symbols_stage2a_driver.json (æ–°å»º) - å…§åœ¨ç‹€æ…‹ç¬¦è™Ÿ
â”œâ”€â”€ symbols_stage2b_environment.json (æ–°å»º) - å¤–åœ¨ç’°å¢ƒç¬¦è™Ÿ
â””â”€â”€ symbols_stage3_behavior.json (æ–°å»º) - è¡Œç‚ºç­–ç•¥ç¬¦è™Ÿ
```

### åº•å±¤å¼•æ“æª”æ¡ˆï¼ˆè¢«æ•´åˆçš„æ ¸å¿ƒï¼‰

#### **domain/ è³‡æ–™åº«å±¤**
```
domain/facets/ (23å€‹å¿ƒç†å­¸è­°é¡Œ)
â”œâ”€â”€ chronic_depletion.json - é•·æœŸè€—æ
â”œâ”€â”€ stress_recovery.json - å£“åŠ›æ¢å¾©
â”œâ”€â”€ loss_of_agency.json - å¤±å»ä¸»å‹•æ€§
â”œâ”€â”€ hyper_responsibility.json - éåº¦è² è²¬
â”œâ”€â”€ creative_blockage.json - å‰µé€ é˜»å¡
â”œâ”€â”€ identity_diffusion.json - èº«ä»½æ“´æ•£
â”œâ”€â”€ suppressed_needs.json - å£“æŠ‘éœ€æ±‚
â”œâ”€â”€ void_drifting.json - ç©ºè™›æ¼‚æµ
â”œâ”€â”€ meaning_vacuum.json - æ„ç¾©çœŸç©º
â”œâ”€â”€ social_comparison.json - ç¤¾æœƒæ¯”è¼ƒ
â”œâ”€â”€ fear_based_stability.json - ææ‡¼ç©©å®š
â”œâ”€â”€ resource_scarcity_mode.json - è³‡æºåŒ±ä¹
â”œâ”€â”€ apathy_stagnation.json - å†·æ¼ åœæ»¯
â”œâ”€â”€ grief_stagnation.json - æ‚²å‚·åœæ»¯
â”œâ”€â”€ perfectionism_paralysis.json - å®Œç¾ä¸»ç¾©ç™±ç˜“
â”œâ”€â”€ impostor_syndrome.json - å†’ç‰Œè²¨ç—‡å€™ç¾¤
â”œâ”€â”€ anger_dysregulation.json - æ†¤æ€’å¤±èª¿
â”œâ”€â”€ shame_spiral.json - ç¾æ„§èºæ—‹
â”œâ”€â”€ guilt_accumulation.json - ç½ªæƒ¡ç´¯ç©
â”œâ”€â”€ sleep_rhythm_chaos.json - ç¡çœ ç¯€å¥æ··äº‚
â”œâ”€â”€ attachment_rupture.json - ä¾é™„æ–·è£‚
â”œâ”€â”€ trust_erosion.json - ä¿¡ä»»ä¾µè•
â””â”€â”€ betrayal_wound.json - èƒŒå›å‰µå‚·
```

#### **engine/ é‹ç®—å±¤**
```
engine/solution/ (è§£æ–¹å¼•æ“)
â”œâ”€â”€ solution_router.py - çµ±ä¸€è§£æ–¹æµç¨‹
â”œâ”€â”€ safety_circuit.py - L4å®‰å…¨ä¿è­·
â”œâ”€â”€ logic_gate.py - å»ºè­°é‚è¼¯é–˜
â”œâ”€â”€ wuxing_balancer.py - äº”è¡Œå¹³è¡¡å»ºè­°
â””â”€â”€ hexagram_mapper.py - å¦è±¡æ˜ å°„

engine/ (æ ¸å¿ƒé‹ç®—)
â”œâ”€â”€ score_facet.py - Facetè©•åˆ†ç³»çµ±
â”œâ”€â”€ compile_domain.py - é ˜åŸŸæ•¸æ“šç·¨è­¯
â”œâ”€â”€ narrative_guard.py - æ•˜äº‹å®‰å…¨æª¢æŸ¥
â”œâ”€â”€ cascade_calculator.py - é€£é–é¢¨éšªè¨ˆç®—
â””â”€â”€ collision_calculator.py - äº”è¡Œç›¸ç”Ÿç›¸å‰‹
```

#### **domain/knowledge_base/** (çŸ¥è­˜åº«)
```
domain/knowledge_base/
â”œâ”€â”€ question_design_guidelines.v1.0.md - é¡Œç›®è¨­è¨ˆè¦å‰‡
â”œâ”€â”€ wuxing_reference.json - äº”è¡Œåƒè€ƒè³‡æ–™
â”œâ”€â”€ bagua_reference.json - å…«å¦åƒè€ƒè³‡æ–™
â”œâ”€â”€ prohibited_terms.json - ç¦ç”¨è©å½™
â””â”€â”€ narrative_templates.json - æ•˜äº‹æ¨¡æ¿
```

---

## ğŸ”„ è¡¨å±¤åˆ°åº•å±¤çš„æ•¸æ“šæµæ˜ å°„

### ç¬¬ä¸€éšæ®µï¼šé–å®šæˆ°å ´ï¼ˆContext Layerï¼‰
```
å‰ç«¯è¼¸å…¥ï¼šé¸æ“‡ã€Œè²¡/æƒ…/æ¥­/å®¶/äºº/èº«/å­¸/é‹ã€
     â†“
ç¬¦è™Ÿæ˜ å°„ï¼šsymbols_phaseA_complete.json
     â†“
å¿ƒç†æ˜ å°„ï¼šchronic_depletion, stress_recovery ç­‰23å€‹Facet
     â†“
è¼¸å‡ºï¼šSeverity(0.00-1.00), Attribution(internal/external/mixed)
```

### ç¬¬äºŒéšæ®µAï¼šé§•é§›å“¡æƒæï¼ˆDriver Statusï¼‰
```
å‰ç«¯è¼¸å…¥ï¼šé¸æ“‡ã€Œç››/è™›/è¦º/æƒ‘/æ”»/å®ˆ/é€š/æ»¯ã€
     â†“
ç¬¦è™Ÿæ˜ å°„ï¼šsymbols_stage2a_driver.json
     â†“
å¿ƒç†è¨ˆç®—ï¼šEnergy + Clarity + Action_Potential
     â†“
é—œéµè¦å‰‡ï¼šè™›(-)å¼·åˆ¶èƒ½é‡æ­¸é›¶ï¼Œæ»¯(-)å¼·åˆ¶è¡Œå‹•ç™±ç˜“
     â†“
è¼¸å‡ºï¼šDriver_Score (ä¸‰è»¸åŠ æ¬Šå¹³å‡)
```

### ç¬¬äºŒéšæ®µBï¼šè·¯æ³æƒæï¼ˆEnvironment Hardnessï¼‰
```
å‰ç«¯è¼¸å…¥ï¼šé¸æ“‡ã€ŒåŒ±/é˜»/çˆ­/äº‚/éšª/å­¤/é²/å‰ã€
     â†“
ç¬¦è™Ÿæ˜ å°„ï¼šsymbols_stage2b_environment.json
     â†“
å¿ƒç†è¨ˆç®—ï¼šHardness(0-15) + Urgency(0-15)
     â†“
é¢¨éšªè©•ç´šï¼šstable â†’ high â†’ critical
     â†“
è¼¸å‡ºï¼šRisk_Level + Environmental_Pressure
```

### ç¬¬ä¸‰éšæ®µï¼šè¡Œç‚ºæƒæï¼ˆExecuted Strategyï¼‰
```
å‰ç«¯è¼¸å…¥ï¼šé¸æ“‡ã€Œæˆ°/é¿/å¿/è¬€/åˆ/æ–·/éš¨/è½‰ã€
     â†“
ç¬¦è™Ÿæ˜ å°„ï¼šsymbols_stage3_behavior.json
     â†“
å¿ƒç†è¨ˆç®—ï¼šCost_Factor(0-5) + Agency_Required
     â†“
è¡Œç‚ºåˆ†é¡ï¼šconfrontation/defensive/sustain/planning ç­‰
     â†“
è¼¸å‡ºï¼šAction_Type + Cost_Assessment
```

### ç¬¬å››éšæ®µï¼šGAPåˆ†æèˆ‡å®šéŒ¨ï¼ˆSynthesisï¼‰
```
è¼¸å…¥æ•´åˆï¼šDriver_Score vs Cost_Factor
     â†“
GAPè¨ˆç®—ï¼š(Energy+1)/2 èˆ‡ Cost/5 çš„æ¯”è¼ƒ
     â†“
å”åŒåˆ¤å®šï¼š
â”œâ”€â”€ GAP > +0.3 â†’ Synergy (å”åŒ)
â”œâ”€â”€ -0.3 < GAP < +0.3 â†’ Friction (ç£¨æ)
â””â”€â”€ GAP < -0.3 â†’ Collapse_Risk (å´©å¡Œé¢¨éšª)
     â†“
é™°é™½å®šéŒ¨ï¼š
â”œâ”€â”€ Synergy/Friction â†’ Yin (å‘å…§ä¿®)
â””â”€â”€ Collapse_Risk â†’ Yang (å‘å¤–è¡)
     â†“
è¼¸å‡ºï¼šå…·é«”å»ºè­° + é—œéµå­— + è§£æ±ºæ–¹æ¡ˆ
```

---

## ğŸ§® åº•å±¤å¼•æ“çš„å®Œæ•´çµ„æˆ

### **é‹ç®—æ ¸å¿ƒï¼ˆEngine Layerï¼‰**

#### **V3 Vector State Engine**
- **Severity**ï¼šå•é¡Œåš´é‡åº¦ (0.00-1.00)
- **Rigidity State**ï¼šå¿ƒç†åƒµå›ºåº¦ (Fluid/Locked/Critical)
- **Agency Score**ï¼šè‡ªä¸»æ€§è©•åˆ† (0.00-1.00)
- **Safety Mode**ï¼šå®‰å…¨ç­‰ç´š (L1-L4)

#### **Facet Diagnostic System (23å€‹è­°é¡Œ)**
æ¯ä¸€å€‹FacetåŒ…å«ï¼š
- **8é¡ŒOCTETçµæ§‹**ï¼š2æ ¸å¿ƒ + 2åæ‡‰ + 2è¡Œç‚º + 2è‡ªä¸»
- **æ¬Šé‡ç®—æ³•**ï¼šå‹•æ…‹åŠ æ¬Šè¨ˆåˆ†
- **ç‹€æ…‹åˆ†å±¤**ï¼šä½/ä¸­/é«˜ä¸‰æ®µè¨ºæ–·
- **é¢¨éšªéˆ**ï¼šæ½›åœ¨é€£é–å½±éŸ¿åˆ†æ

#### **äº”è¡Œèƒ½é‡ç³»çµ±**
- **ç›¸ç”Ÿç›¸å‰‹è¨ˆç®—**ï¼šå…ƒç´ é–“å‹•æ…‹å¹³è¡¡
- **åŸºåº•æ¨å°**ï¼šå¾ç”Ÿæ—¥ã€ç”Ÿè¾°è¨ˆç®—äº”è¡Œ
- **å¹³è¡¡å»ºè­°**ï¼šæ ¹æ“šèƒ½é‡æµå‹•çµ¦å‡ºèª¿å’Œæ–¹æ¡ˆ

### **å…§å®¹è³‡æ–™åº«ï¼ˆDomain Layerï¼‰**

#### **é¡Œåº«ç³»çµ±ï¼ˆ30çµ„é¡Œç›®ï¼‰**
- **4é¡Œ/7é¡Œ/8é¡Œçµæ§‹**ï¼šä¸åŒè­°é¡Œçš„é¡Œç›®æ•¸é‡
- **äº”æ®µå¼é‡è¡¨**ï¼šå®Œå…¨ä¸ç¬¦åˆ â†’ å®Œå…¨ç¬¦åˆ
- **æ–‡åŒ–é©é…**ï¼šæ±æ–¹å“²å­¸åŒ…è£¹çš„å¿ƒç†å­¸æ¸¬é‡

#### **æ•˜äº‹ç”Ÿæˆç³»çµ±**
- **Narratives**ï¼šåˆ†æ®µé–‹å ´èˆ‡èªªæ˜æ–‡å­—
- **Recommendations**ï¼šå…·é«”å»ºè­°æ­¥é©Ÿ
- **Risk Chains**ï¼šæ½›åœ¨é¢¨éšªé€£é–æé†’
- **Safety Guard**ï¼šé†«ç™‚åˆè¦æª¢æŸ¥

### **å®‰å…¨ä¿è­·ç³»çµ±ï¼ˆSafety Layerï¼‰**

#### **L4å®‰å…¨å”è­°**
- **ç¦æ­¢è©éæ¿¾**ï¼šé¿å…å¿ƒç†é†«ç™‚è¡“èª
- **å±æ©Ÿåµæ¸¬**ï¼šè‡ªå‹•åˆ‡æ›åˆ°å®‰å…¨æ¨¡å¼
- **å»ºè­°é–˜é–€**ï¼šæ ¹æ“šå£“åŠ›ç­‰ç´šæ§åˆ¶è¼¸å‡º
- **æ•˜äº‹å®ˆè¡›**ï¼šç¢ºä¿è¼¸å‡ºç¬¦åˆå¹³å°è¦ç¯„

---

## ğŸ“Š æ•´åˆè¦†è“‹ç‡åˆ†æ

### **åŠŸèƒ½è¦†è“‹ï¼š100%** âœ…
```
åº•å±¤åŠŸèƒ½é …                    è¡¨å±¤æ˜ å°„ç‹€æ…‹
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
23å€‹å¿ƒç†å­¸Facet              âœ… å®Œå…¨æ˜ å°„åˆ°ç¬¦è™Ÿç³»çµ±
V3å¼•æ“å››å¤§æŒ‡æ¨™               âœ… æ•´åˆåˆ°GAPåˆ†æé‚è¼¯
OCTET_8é¡Œç›®çµæ§‹             âœ… è½‰æ›ç‚ºç¬¦è™Ÿå¤šç¶­å‘é‡
äº”è¡Œèƒ½é‡è¨ˆç®—                 âœ… ç”¨æ–¼å¦è±¡èˆ‡å»ºè­°ç”Ÿæˆ
é¢¨éšªéˆåˆ†æ                   âœ… è½‰æ›ç‚ºé€£é–é¢¨éšªæé†’
å®‰å…¨ä¿è­·æ©Ÿåˆ¶                 âœ… L4å”è­°å®Œå…¨ä¿ç•™
æ•˜äº‹ç”Ÿæˆæ¨¡æ¿                 âœ… AIæœå‹™å‹•æ…‹ç”Ÿæˆ
é€£é–åæ‡‰è¨ˆç®—                 âœ… ç’°å¢ƒå£“åŠ›å½±éŸ¿åˆ†æ
```

### **æ•¸æ“šæµå®Œæ•´æ€§ï¼š100%** âœ…
- **è¼¸å…¥è½‰æ›**ï¼šæ‰€æœ‰ç¬¦è™Ÿé¸æ“‡éƒ½æ˜ å°„åˆ°åº•å±¤å¿ƒç†å­¸æŒ‡æ¨™
- **é‹ç®—ä¿ç•™**ï¼šV3å¼•æ“ã€Facetè©•åˆ†ã€äº”è¡Œè¨ˆç®—å®Œå…¨åŸ·è¡Œ
- **è¼¸å‡ºé©é…**ï¼šæ±æ–¹æ•˜äº‹åŒ…è£¹ç¾ä»£å¿ƒç†å­¸çµæœ
- **å®‰å…¨ä¿éšœ**ï¼šæ‰€æœ‰é†«ç™‚åˆè¦æª¢æŸ¥èˆ‡å±æ©Ÿä¿è­·æ©Ÿåˆ¶ä¿ç•™

---

## ğŸ” å¯¦éš›ä½¿ç”¨æ¡ˆä¾‹èªªæ˜

### **æ¡ˆä¾‹ï¼šè·å ´å£“åŠ›æƒ…å¢ƒ**

#### **ç”¨æˆ¶è¼¸å…¥ï¼ˆè¡¨å±¤ï¼‰**
```
éšæ®µ1ï¼šé¸æ“‡ã€Œæ¥­ã€ï¼ˆè·å ´ç™¼å±•ï¼‰
éšæ®µ2Aï¼šé¸æ“‡ã€Œè™›ã€ï¼ˆç²¾åŠ›è€—ç«­ï¼‰+ã€Œæƒ‘ã€ï¼ˆè³‡è¨Šæ··äº‚ï¼‰
éšæ®µ2Bï¼šé¸æ“‡ã€Œçˆ­ã€ï¼ˆè¡çªå°ç«‹ï¼‰+ã€Œéšªã€ï¼ˆå±æ©Ÿå››ä¼ï¼‰
éšæ®µ3ï¼šé¸æ“‡ã€Œæˆ°ã€ï¼ˆå¥®åŠ›å°æŠ—ï¼‰+ã€Œå¿ã€ï¼ˆæŒçºŒæ‰¿å—ï¼‰
```

#### **ç³»çµ±é‹ç®—ï¼ˆåº•å±¤ï¼‰**

**éšæ®µ1è™•ç†ï¼š**
```
ç¬¦è™Ÿã€Œå›°ã€â†’ vectors.weight: 0.7
         â†’ attribution: "mixed"
         â†’ candidate_facets: ["chronic_depletion", "loss_of_agency"]
çµæœï¼šSeverity=0.7, Attribution=mixed
```

**éšæ®µ2Aè™•ç†ï¼š**
```
ã€Œè™›ã€ï¼švectors.agency=-0.8 (é—œéµè¦å‰‡ï¼šå¼·åˆ¶èƒ½é‡æ­¸é›¶)
ã€Œæƒ‘ã€ï¼švectors.clarity=-0.7
çµæœï¼šEnergy=-0.8, Clarity=-0.7, Action_Potential=-0.75
```

**éšæ®µ2Bè™•ç†ï¼š**
```
ã€Œçˆ­ã€ï¼švectors.hardness=3, urgency=5
ã€Œéšªã€ï¼švectors.hardness=4, urgency=5
çµæœï¼šHardness_Sum=7, Urgency_Sum=10, Risk_Level=high
```

**éšæ®µ3è™•ç†ï¼š**
```
ã€Œæˆ°ã€ï¼švectors.cost_factor=5 (æ¥µé«˜æˆæœ¬)
ã€Œå¿ã€ï¼švectors.cost_factor=4 (é«˜å…§è€—)
çµæœï¼šAvg_Cost=4.5, Action_Type=confrontation
```

**GAPåˆ†æï¼š**
```
èƒ½é‡æ­£è¦åŒ–ï¼š(-0.8 + 1) / 2 = 0.1
æˆæœ¬æ­£è¦åŒ–ï¼š4.5 / 5 = 0.9
GAPå€¼ï¼š0.1 - 0.9 = -0.8
å”åŒç‹€æ…‹ï¼šcollapse_risk (å´©å¡Œé¢¨éšª)
```

#### **æœ€çµ‚è¼¸å‡ºï¼ˆè¡¨å±¤ï¼‰**
```
å¦è±¡ï¼šæ¾¤é¢¨å¤§éï¼ˆéå¸¸ä¹‹æ™‚ï¼Œéå¸¸ä¹‹ç­–ï¼‰
å…­è¦ªï¼šç¬¬1çˆ»=çˆ¶æ¯, ç¬¬2çˆ»=å…„å¼Ÿ, ç¬¬3çˆ»=å®˜é¬¼, ...
ç”¨ç¥ï¼šå®˜é¬¼ï¼ˆç¬¬3çˆ»ï¼‰

AIæ•˜äº‹ï¼š
ã€Œæ ¹æ“šå¦è±¡é¡¯ç¤ºï¼Œæ‚¨ç›®å‰çš„ç‹€æ…‹æ›´é©åˆå½¢å‹¢å±æ€¥ï¼Œéœ€è¦ç«‹å³èª¿æ•´ä»¥ä¿å…¨æ ¹æœ¬ã€‚
å»ºè­°æ‚¨ç·Šæ€¥ç…è»Šã€ä¿å‘½å„ªå…ˆï¼Œå…·é«”è€Œè¨€ç«‹å³åœæ­¢é«˜é¢¨éšªè¡Œç‚ºï¼›å°‹æ±‚å¤–éƒ¨æ”¯æ´ã€‚ã€

é¢¨éšªæé†’ï¼š
- ç•¶å‰ç­–ç•¥å¯èƒ½è¶…å‡ºå€‹äººæ‰¿å—èƒ½åŠ›ï¼Œå»ºè­°ç«‹å³èª¿æ•´
- å¤–éƒ¨ç’°å¢ƒå£“åŠ›è¼ƒå¤§ï¼Œéœ€è¬¹æ…è¡Œäº‹
- æ‰€é¸ç­–ç•¥æˆæœ¬è¼ƒé«˜ï¼Œè«‹ç¢ºä¿èƒ½é‡å……è¶³ä»¥ç‚ºæ”¯æ’
```

---

## ğŸ¯ ç®—æ³•æ ¸å¿ƒèªªæ˜

### **GAPåˆ†æç®—æ³•**
```python
def perform_gap_analysis(driver_status, environment, behavior):
    # 1. æ­£è¦åŒ–è½‰æ›
    energy_normalized = (driver_status['action_potential'] + 1) / 2  # -1~1 â†’ 0~1
    cost_normalized = behavior['cost_factor'] / 5  # 0~5 â†’ 0~1

    # 2. GAPè¨ˆç®—
    gap_value = energy_normalized - cost_normalized

    # 3. ç’°å¢ƒå£“åŠ›èª¿æ•´
    hardness_penalty = environment['hardness_sum'] / 15 * 0.3
    urgency_modifier = environment['urgency_sum'] / 15 * 0.2
    adjusted_gap = gap_value - hardness_penalty - urgency_modifier

    # 4. å”åŒç‹€æ…‹åˆ¤å®š
    if adjusted_gap > 0.3:
        synergy_state = "synergy"
    elif adjusted_gap > -0.3:
        synergy_state = "friction"
    else:
        synergy_state = "collapse_risk"

    return {
        "gap_value": gap_value,
        "adjusted_gap": adjusted_gap,
        "synergy_state": synergy_state
    }
```

### **é™°é™½å®šéŒ¨ç®—æ³•**
```python
def determine_yin_yang_direction(gap_analysis, driver_status):
    synergy_state = gap_analysis['synergy_state']

    # åŸºæ–¼å”åŒç‹€æ…‹çš„åŸºç¤åˆ¤å®š
    base_direction = {
        "synergy": "yang",      # èƒ½é‡è¶³å¤ ï¼Œå‘å¤–æ“´å¼µ
        "friction": "yin",      # éœ€è¦èª¿æ•´ï¼Œå‘å…§æª¢è¦–
        "collapse_risk": "yin"  # ä¿è­·å„ªå…ˆï¼Œå‘å…§æ”¶æ–‚
    }[synergy_state]

    # æ ¹æ“šå…·é«”æƒ…æ³å¾®èª¿
    if driver_status['energy'] < -0.5:
        return "yin"  # èƒ½é‡éä½ï¼Œå¼·åˆ¶å‘å…§

    return base_direction
```

### **ç¬¦è™Ÿåˆ°Facetæ˜ å°„ç®—æ³•**
```python
def calculate_facet_scores(symbols):
    facet_scores = {}

    for symbol in symbols:
        weight = symbol['vectors']['weight']
        candidate_facets = symbol.get('candidate_facets', [])

        for facet in candidate_facets:
            if facet not in facet_scores:
                facet_scores[facet] = 0
            facet_scores[facet] += weight

    return facet_scores
```

---

## ğŸš€ çµè«–èˆ‡ç¾ç‹€è©•ä¼°

### **æ•´åˆå®Œæˆåº¦ï¼š100%** âœ…

1. **åŠŸèƒ½å®Œæ•´æ€§**ï¼šæ‰€æœ‰åº•å±¤å¼•æ“åŠŸèƒ½éƒ½å·²æˆåŠŸæ˜ å°„åˆ°è¡¨å±¤ç¬¦è™Ÿç³»çµ±
2. **é‚è¼¯ä¿çœŸæ€§**ï¼šç¾ä»£å¿ƒç†å­¸ç®—æ³•åœ¨æ±æ–¹ç„å­¸ä»‹é¢ä¸‹å®Œå…¨ä¿ç•™
3. **å®‰å…¨åˆè¦æ€§**ï¼šL4å®‰å…¨å”è­°èˆ‡é†«ç™‚è¦ç¯„æª¢æŸ¥æ©Ÿåˆ¶å®Œå…¨ä¿ç•™
4. **æ€§èƒ½æ•ˆç‡**ï¼šç¬¦è™Ÿæ˜ å°„èˆ‡GAPåˆ†æå¯¦ç¾å³æ™‚é‹ç®—
5. **æ“´å±•å½ˆæ€§**ï¼šæ–°ç¬¦è™Ÿèˆ‡æ–°Facetå¯ä»¥è¼•é¬†åŠ å…¥ç³»çµ±

### **ç•¶å‰ä½¿ç”¨æ–¹å¼**

#### **é–‹ç™¼è€…ä½¿ç”¨**
```python
from engine.symbol_facet_mapper import PsychologicalEngine

engine = PsychologicalEngine()
result = engine.diagnose_comprehensive(
    theme="æƒ…",
    stage1_selections=[{"battlefield": "æƒ…", "symbols": ["å›°"], "weight": 0.9}],
    stage2a_selections=["è™›", "æƒ‘"],
    stage2b_selections=["çˆ­", "éšª"],
    stage3_selections=["æˆ°", "å¿"]
)
```

#### **å‰ç«¯ä½¿ç”¨**
```javascript
// å‘¼å«API
const response = await fetch('/api/comprehensive/diagnose', {
  method: 'POST',
  body: JSON.stringify({
    session_id: "session_123",
    theme: "æƒ…",
    stage1_selections: [...],
    stage2a_selections: [...],
    // ... å…¶ä»–éšæ®µ
  })
});
```

### **ç³»çµ±å„ªå‹¢**

1. **é›™é‡åƒ¹å€¼**ï¼šæ—¢æ»¿è¶³ç¾ä»£å¿ƒç†å­¸çš„æº–ç¢ºæ€§ï¼Œåˆæä¾›æ±æ–¹æ–‡åŒ–çš„è¦ªå’ŒåŠ›
2. **å‹•æ…‹é©æ‡‰**ï¼šGAPåˆ†ææ ¹æ“šå¯¦éš›ç‹€æ…‹æä¾›å€‹äººåŒ–å»ºè­°
3. **é¢¨éšªæ§åˆ¶**ï¼šå¤šå±¤å®‰å…¨æ©Ÿåˆ¶ç¢ºä¿ç”¨æˆ¶ç¦ç¥‰
4. **å¯æ“´å±•æ€§**ï¼šç¬¦è™Ÿç³»çµ±å¯ä»¥è¼•é¬†å¢åŠ æ–°çš„å¿ƒç†å­¸è­°é¡Œ
5. **æ–‡åŒ–æ©‹æ¥**ï¼šæˆåŠŸå¯¦ç¾ã€Œç¾ä»£ç§‘å­¸å…§å®¹ Ã— å‚³çµ±æ–‡åŒ–åŒ…è£ã€

---

**ç¸½çµ**ï¼šåº•å±¤å¼•æ“å·²ç¶“å®Œå…¨æ•´åˆåˆ°è¡¨å±¤ç³»çµ±ä¸­ï¼Œå¯¦ç¾äº†æŠ€è¡“èˆ‡æ–‡åŒ–çš„å®Œç¾èåˆã€‚ç”¨æˆ¶åœ¨æ±æ–¹ç„å­¸çš„å„€å¼æ„Ÿä¸­ï¼Œäº«å—åˆ°ç¾ä»£å¿ƒç†å­¸çš„ç²¾æº–è¨ºæ–·èˆ‡å»ºè­°ã€‚